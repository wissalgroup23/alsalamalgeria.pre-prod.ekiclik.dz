"use strict";(self.webpackChunkek_guichet=self.webpackChunkek_guichet||[]).push([[731],{48731:(Fe,J,r)=>{r.r(J),r.d(J,{CartModule:()=>Je});var d=r(36895),it=r(69814),h=r(4859),ot=r(73546),R=r(80529),f=r(59549),N=r(44144),at=r(96338),F=r(17009),l=r(24006),O=r(37084),k=r(3238),A=r(62289),rt=r(69603);const st=JSON.parse('[{"province":"Alger1","value":"ALGER","address":["Les vergers Birkhadem"],"tels":["0560 83 01 03"," 0560 06 09 85 ","0561 79 35 00 "]},{"province":"Alger2 ","value":"ALGER2","address":["Mouhous Bordj El Kiffan"],"tels":["0560 80 77 05","  0560 85 19 02"]},{"province":"Oran1","value":"ORAN","address":["Cnastel"],"tels":["0560 63 00 01","0554 51 45 74"]},{"province":"Oran2 ","value":"ORAN2","address":["Bir El Djir: coop\xe9rativeAdnaneMustapha"],"tels":["0560 65 52 78","0561 91 80 55"]},{"province":"Tlemcen ","value":"TLEMCEN","address":["A cot\xe9 de l\u2019h\xf4tel les Zyanid R\xe9sidence Kerzabi"],"tels":["0560 63 35 73","0560 12 41 22","0554 80 52 05"]},{"province":"Constantine ","value":"CONSTANTINE","address":["Ali mendjli nouvelle ville"],"tels":["0561 72 51 57","0560 63 08 76 ","0554 81 47 48"]},{"province":"Annaba ","value":"ANNABA","address":["Houamria Taher Pr\xe8sde l\u2019\xe9cole de police"],"tels":["0561 69 56 24","0560 09 50 23","0560 09 50 25"]},{"province":"Skikda ","value":"SKIKDA","address":["SKIKDA CENTRE bouyala"],"tels":["0561 67 30 17","0561 63 65 76"]},{"province":"Bejaia ","value":"BEJAIA","address":["Cite Somacob Bejaia"],"tels":["0560 10 42 06","0561 67 26 50"]},{"province":"Mostaganem ","value":"MOSTAGANEM","address":["Salamendre rond point de la douane"],"tels":["0561 67 26 11","0560 58 31 60"]},{"province":"Chlef ","value":"CHLEF","address":["Rue des gazelles en face bureau main d\u2019\u0153uvre centre-ville"],"tels":["0560 00 19 44","0560 02 68 10","0554 84 96 37"]},{"province":"M\u2019sila ","value":"MSILA","address":["Hai el idarien face direction de la sant\xe9"],"tels":["0561 89 33 91","0554 85 18 8"]},{"province":"Setif ","value":"SETIF","address":["Cot\xe9 Tribunal"],"tels":["0561 75 88 83","0560 93 64 14","0554 85 71 87"]},{"province":"EL EULMA (Setif) ","value":"SETIF","address":["Cit\xe9 tasahomi 160 logements el Eulma "],"tels":["0561 72 07 86 "]},{"province":"Blida ","value":"BLIDA","address":["Impasse des barri\xe8res train sidi Abdelkader (koucha)"],"tels":["0560 56 25 87","0560 92 02 73"]},{"province":"Batna ","value":"BATNA","address":["Rue du 19 juin cite chouhada"],"tels":["0560 31 18 51","0560 42 12 51","0554 84 34 29"]},{"province":"Jijel ","value":"JIJEL","address":["Camp chevalier en face l\u2019h\xf4tel beau s\xe9jour"],"tels":["0560 42 07 72","0554 53 39 85"]},{"province":"Djelfa ","value":"DJELFA","address":["Cit\xe9 Saadatcot\xe9 ancien tribunal"],"tels":["0560 64 95 28","0554 89 76 01"]},{"province":"Oum El Bouaghi ","value":"OUM_EL_BOUAGHI","address":["En Face Ex SNTA, derri\xe8re la CNEP"],"tels":["0554 89 36 91"]},{"province":"Mila ","value":"MILA","address":["Rue de l\u2019arm\xe9e lib\xe9ration nationale a c\xf4t\xe9 de l\u2019h\xf4pital"],"tels":["0560 99 92 47"]},{"province":"Relizane ","value":"RELIZANE","address":["Cit\xe9 la roupelle\xe0 c\xf4t\xe9 du bureau de poste"],"tels":["0560 18 88 13","0560 10 51 69","0554 84 28 61"]},{"province":"Tipaza ","value":"TIPAZA","address":["Route de l\u2019h\xf4pital \xe0 c\xf4t\xe9 de la poste"],"tels":["0560 42 79 14","0554 87 94 66"]},{"province":"Sidi Bel Abbes ","value":"SIDI_BEL_ABBES","address":["En face campus de l\u2019universit\xe9, entre le commissariat 13\xe9me et le centre Niaam"],"tels":["0560 58 00 38","0561 67 73 79"]},{"province":"Bordj Bou Arrirej ","value":"BORDJ_BOU_ARRERIDJ","address":["Cit\xe9 des 66 logts Local Bt Ben Chikh devant stade 20 Aout"],"tels":["0560 80 73 11","0560 16 55 26","0554 41 64 84"]},{"province":"M\xe9d\xe9a","value":"MEDEA","address":["Devant le p\xf4le Universitaire de M\xe9d\xe9a"],"tels":["0560 82 29 56","0555 10 60 84"]},{"province":"Saida ","value":"SAIDA","address":["Sadaoui Kada 98 log Local D14 El Zeytoune"],"tels":["0560 09 46 53","0554 87 06 25"]},{"province":"Souk Ahras","value":"SOUK_AHRAS","address":["19 B Rue Mouloud Feraoun \xe0 c\xf4t\xe9 de la placette"],"tels":["0560 46 01 12","0560 03 16 38","0560 03 16 38"]},{"province":"Mascara","value":"MASCARA","address":["Dar El Beida centre \xe0 c\xf4t\xe9 du CNRC"],"tels":["0554 88 83 21"]},{"province":"Tizi Ouzou","value":"TIZI_OUZOU","address":["Lotissement Thala \xe0 c\xf4t\xe9 du stade 1er novembre"],"tels":["0560 03 71 40"]},{"province":"Ain Timouchent","value":"AIN_TEMOUCHENT","address":["N 11 place de la libert\xe9 centre-ville"],"tels":["0699 63 12 86","0659 90 36 42","0560 20 75 34"]},{"province":"Guelma","value":"GUELMA","address":["Cit\xe9 Bouraraau rond-point en face cafeteria beskri"],"tels":["0560 79 61 52 ","0560 59 23 15"]},{"province":"Boumerdes","value":"BOUMERDES","address":["11 d\xe9cembre 1er tranche \xe0c\xf4t\xe9de la banque BNP"],"tels":["0560 05 54 9","0560 02 88 19 "]},{"province":"Ain Defla","value":"AIN_DEFLA","address":["Hai el kheyat mohamed, zone industrielle en face polyclinique"],"tels":["0560 45 18 86 ","0560 55 10 15"]},{"province":"Bouira","value":"BOUIRA","address":["Cit\xe9 harket el mander el djamil"],"tels":["0560 63 27 64","0560 01 19 88 ","0554 89 75 59"]},{"province":"Khenchla","value":"KHENCHELA","address":["Route de izar \xe0c\xf4t\xe9de la clinique el widad"],"tels":["0554 89 18 26"]},{"province":"T\xe9bessa","value":"TEBESSA","address":["EPLF en face casnos centre-ville"],"tels":["0561 88 72 87","0560 64 47 87","0554 82 78 24"]},{"province":"Tiaret","value":"TIARET","address":["B\xe2timent AADL tarik el djazair, \xe0 c\xf4t\xe9 de cash assurance"],"tels":["0561 67 44 58 "]},{"province":"Ghardaia","value":"GHARDAIA","address":["Commune de bohraoua avant Volkswagen"],"tels":["0560 86 43 78","0554 89 39 90"]},{"province":"Biskra","value":"BISKRA","address":["Boulevard fr\xe8resmenaniRue nomm\xe9e souk l\u2019ehchiche"],"tels":["0561 40 93 50","0561 89 97 74"]},{"province":"Bechar","value":"BECHAR","address":["Sobane en face clinique priv\xe9e ali cherif"],"tels":["0560 44 29 35","0674 34 71 82"]},{"province":"El Oued","value":"EL_OUED","address":["Cite les 400: en face Cnep"],"tels":["0561 67 30 87","0561 92 86 19"]},{"province":"Laghouat","value":"LAGHOUAT","address":["A cote de l\u2019agence Djezzy"],"tels":["0540 07 85 29"]},{"province":"El Beyadh","value":"EL_BAYADH","address":["Cite CNEP en face l\u2019h\xf4tel el nedjm"],"tels":["0560 63 46 52","0554 87 79 34 ","0560 63 46 52"]},{"province":"Adrar","value":"ADRAR","address":["Route de la wilaya en face le centre de formation fille"],"tels":["0560 64 50 26","0561 60 27 26","0560 64 50 26"]},{"province":"Timimoun(Adrar)","value":"ADRAR","address":["Rue Muhamed al Hashemi \xe0 proximit\xe9 de Cin\xe9ma"],"tels":["0561 79 78 93"]},{"province":"Ouargla","value":"OUARGLA","address":["Rue Zaouia bouhafs \xe0 c\xf4t\xe9 de l\u2019arr\xeat de tramway"],"tels":["0561 76 20 94 "]},{"province":"Ouargla","value":"OUARGLA2","address":["Cit\xe9 1850 logts \xe0c\xf4t\xe9du primaire khadija oum moueminin"],"tels":["0560 20 76 43  "]},{"province":"Touggourt(Ouargla) ","value":"OUARGLA3","address":["Rue mohamed Boudiaf derri\xe8re les fonds N\xb001 pour assurance sociale des travailleurs"],"tels":["0561 68 36 16"]}]');var v=r(37340),Q=r(68675),S=r(54004),t=r(94650),ct=r(42241),I=r(77215),L=r(36016),lt=r(65027),dt=r(2522);let pt=(()=>{class i extends lt.w{constructor(e,n){super(e),this.url=`${n.apiEndpoint}/delivery`}getDeliveryPrice(e,n,o){return this.http.post(`${this.url}/deliveryprice`,{address:e,deliveryType:n,livreurId:o})}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(R.eN),t.LFG(dt.q))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var _=r(65412),gt=r(33213),C=r(82761),q=r(64236),g=r(1576),z=r(47957),ut=r(31372);function mt(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1,"Ce champ est obligatoire"),t.qZA())}function ht(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1," Veuillez entrer un num\xe9ro valide"),t.qZA())}function ft(i,a){if(1&i&&(t.TgZ(0,"div",22),t.YNc(1,mt,2,0,"span",23),t.YNc(2,ht,2,0,"span",23),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.isValid().phoneNumber.errors?null:e.isValid().phoneNumber.errors.required),t.xp6(1),t.Q6J("ngIf",e.isValid().phoneNumber.hasError("pattern")||e.isValid().phoneNumber.hasError("minlength"))}}function _t(i,a){if(1&i&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.namePos+", "+e.posWilaya," ")}}function Ct(i,a){if(1&i&&(t.TgZ(0,"div",25)(1,"span",26),t._uU(2,"Wilaya:"),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"dl")(5,"dd"),t._uU(6),t.qZA()(),t.TgZ(7,"span",26),t._uU(8,"Commune:"),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"dl")(11,"dd"),t._uU(12),t.qZA()(),t.TgZ(13,"span",26),t._uU(14,"Adresse du point de vente:"),t.qZA(),t._UZ(15,"br"),t.TgZ(16,"dl")(17,"dd"),t._uU(18),t.qZA()(),t.TgZ(19,"span",26),t._uU(20,"T\xe9l\xe9phone:"),t.qZA(),t._UZ(21,"br"),t.TgZ(22,"dl")(23,"dd")(24,"a",27),t._uU(25),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(5),t.Q6J("@inOutAnimation",void 0),t.xp6(1),t.Oqu(e.selectedRelay.posWilaya.toString().split("_").join("\n")),t.xp6(5),t.Q6J("@inOutAnimation",void 0),t.xp6(1),t.Oqu(e.selectedRelay.posCommune),t.xp6(5),t.Q6J("@inOutAnimation",void 0),t.xp6(1),t.Oqu(e.selectedRelay.addressPos),t.xp6(5),t.Q6J("@inOutAnimation",void 0),t.xp6(1),t.MGl("href","tel:",e.selectedRelay.posPhoneOne,"",t.LSH),t.xp6(1),t.Oqu(e.selectedRelay.posPhoneOne)}}let Y=(()=>{class i{constructor(e,n,o,s,p,u,c,m,y,b){this.addressesService=e,this.accountService=n,this.cartService=o,this.deliveryService=s,this.dialog=p,this.breakPointObserver=u,this.fb=c,this.wilayaItems=m,this.router=y,this.contactInformationsService=b,this.provinceList=st,this.pointOfSaleList=[],this.selectedRelayPoint="0",this.selectedHomeAddress=0,this.addresses=[],this.defaultAddress=0,this.PHONE_REGEX=/^(00213|\+213|0)(5|6|7|9)(\s*?[0-9]\s*?){5,8}$/,this.itemsExpanded=!1,this.myplaceHolder="Enter Wilaya"}ngOnInit(){this.accountService.accountSubject.subscribe(e=>{this.client=e}),this.addressesService.getPointOfSale().subscribe(e=>{this.pointOfSaleList=e.body}),this.getContactInformation(),this.form=this.fb.group({phoneNumber:["",l.kI.compose([l.kI.required,l.kI.minLength(10),l.kI.pattern(this.PHONE_REGEX)])],selectedRelayPoint:[""]}),this.cartService.deliveryAddress$.subscribe(e=>{this.selectedAdr=e}),this.getLocalAddress(),this.breakPointObserver.observe(A.u3.Handset).subscribe(e=>{this.itemsExpanded=!e.matches}),this.addressesService.addressSubject.subscribe(e=>{this.addresses=e,e.length&&this.client.defaultAddress&&(this.defaultAddress=this.client.defaultAddress,this.deliveryAddress=this.addresses.find(n=>n.id===this.defaultAddress))}),this.provinceList1=this.wilayaItems.getWilayasItems(),this.filteredOptions=this.form.get("selectedRelayPoint").valueChanges.pipe((0,Q.O)(""),(0,S.U)(e=>e),(0,S.U)(e=>e?this._filter(e.toString()):this.pointOfSaleList.slice())),this.selectedRelay=JSON.parse(String(localStorage.getItem("selectedRelay")))}setLocalAdress(e){localStorage.setItem("ADDRESS",JSON.stringify(e)),this.cartService._localDeliveryAddressSubject.next(this.selectedAdr)}getLocalAddress(){const e=JSON.parse(localStorage.getItem("ADDRESS"));e&&(this.selectedAdr=e,"POINT_DE_RELAIT"===this.selectedAdr.mode&&this.selectedAdr.adr?(this.selectedRelay=this.pointOfSaleList.find(n=>this.selectedRelayPoint===(n.posWilaya||n.posCommune||n.namePos)),this.form.get("phoneNumber")?.setValue(this.selectedAdr.adr.phone),this.form.get("selectedRelayPoint")?.setValue(this.selectedAdr.namePOS)):"DOMICILE"===this.selectedAdr.mode&&this.selectedAdr.adr?this.selectedHomeAddress=JSON.parse(localStorage.getItem("deliveryAdrId")):("RECUPERATION_AU_NIVEAU_DU_MAGASIN"===this.selectedAdr.mode&&this.selectedAdr.adr||"NO_DELIVERY"===this.selectedAdr.mode&&this.selectedAdr.adr)&&this.form.get("phoneNumber")?.setValue(this.selectedAdr.adr.phone))}onChange(e){switch(e.value.toString()){case"option1":this.form.reset(),localStorage.removeItem("ADDRESS"),this.selectedAdr.mode="RECUPERATION_AU_NIVEAU_DU_MAGASIN",this.selectedAdr.price="0",this.selectedAdr.adr=null,this.updateDeliveryAddress(),this.setLocalAdress(this.selectedAdr);break;case"option2":this.form.reset(),localStorage.removeItem("ADDRESS"),this.selectedAdr.adr=null,this.selectedAdr.mode="POINT_DE_RELAIT",this.selectedAdr.price="0",this.selectedAdr.namePOS=this.selectedRelay.namePos,this.selectedAdr.pointId=this.selectedRelay.id,this.selectRelayPoint(!0),this.updateDeliveryAddress(),this.setLocalAdress(this.selectedAdr);break;case"option3":localStorage.removeItem("ADDRESS"),this.selectedAdr.mode="DOMICILE",this.selectedAdr.price="0",this.selectedAdr.adr=null,this.selectAddress(),this.updateDeliveryAddress(),this.setLocalAdress(this.selectedAdr)}}noDileveryMode(){this.selectedAdr.mode="NO_DELIVERY",this.selectedAdr.price="0",this.selectedAdr.adr=null,this.updateDeliveryAddress()}selectRelayPoint(e){if(this.form.get("selectedRelayPoint")?.setValue(this.selectedRelay.namePos),localStorage.setItem("selectedRelay",JSON.stringify(this.selectedRelay)),this.selectedRelay){let n;switch(this.selectedRelay.posWilaya){case"ALGER2":n="ALGER";break;case"ORAN2":n="ORAN";break;case"OUARGLA2":case"OUARGLA3":n="OUARGLA";break;default:n=this.selectedRelay.posWilaya}const o={addressLine1:this.selectedRelay.addressPos,addressLine2:"",firstname:this.client.firstname,lastname:this.client.lastname,phone:this.form.get("phoneNumber")?.value,postalCode:null,wilaya:n,ville:this.selectedRelay.posCommune,email:this.client.email};this.selectedAdr={adr:o,price:"0",mode:"POINT_DE_RELAIT",pointId:this.selectedRelay.id,namePOS:this.selectedRelay.namePos},this.setLocalAdress(this.selectedAdr),e&&this.updateDeliveryAddress()}}getRelayPoint(e){this.selectedRelay=this.pointOfSaleList.find(n=>n.id===e),this.selectedRelayPoint=this.selectedRelay.posWilaya,this.selectRelayPoint(!0)}selectAddress(){if(this.deliveryAddress=this.addresses.find(0===this.selectedHomeAddress?e=>e.id===this.defaultAddress:e=>e.id===this.selectedHomeAddress),this.deliveryAddress){localStorage.setItem("deliveryAdrId",JSON.stringify(this.deliveryAddress.id));const e={addressLine1:this.deliveryAddress.addressLine1,addressLine2:this.deliveryAddress.addressLine12,firstname:this.deliveryAddress.firstname,lastname:this.deliveryAddress.lastname,phone:this.deliveryAddress.phoneNumber,postalCode:Number(this.deliveryAddress.zipCode),wilaya:this.deliveryAddress.province,ville:this.deliveryAddress.city,email:this.client.email};this.selectedAdr.adr=e}this.updateDeliveryAddress()}addNewAddress(){this.dialog.open(rt.j,{data:this.client}).afterClosed().subscribe(n=>{if(n){this.addresses.push(n),this.deliveryAddress=n,this.selectedHomeAddress=this.deliveryAddress.id;const o={addressLine1:this.deliveryAddress.addressLine1,addressLine2:this.deliveryAddress.addressLine12,firstname:this.deliveryAddress.firstname,lastname:this.deliveryAddress.lastname,phone:this.deliveryAddress.phoneNumber,postalCode:Number(this.deliveryAddress.zipCode),wilaya:this.deliveryAddress.province,ville:this.deliveryAddress.city,email:this.client.email};this.selectedAdr.adr=o,this.updateDeliveryAddress()}})}setVirtualDelivery(){const e={addressLine1:"",addressLine2:"",firstname:this.client.firstname,lastname:this.client.lastname,phone:this.form.get("phoneNumber")?.value,postalCode:null,wilaya:"SETIF",ville:"S\xe9tif",email:this.client.email};this.selectedAdr={adr:e,price:"0",mode:"NO_DELIVERY",pointId:this.selectedRelay.id},this.updateDeliveryAddress(),this.setLocalAdress(this.selectedAdr)}setSetifStoreRecovery(){const e={addressLine1:"Coop Elmasaa B\xe9rarma, Setif",addressLine2:"",firstname:this.client.firstname,lastname:this.client.lastname,phone:this.form.get("phoneNumber")?.value,postalCode:19e3,wilaya:"SETIF",ville:"S\xe9tif",email:this.client.email};this.selectedAdr={adr:e,price:"0",mode:"RECUPERATION_AU_NIVEAU_DU_MAGASIN",pointId:this.selectedRelay.id},this.updateDeliveryAddress(),this.setLocalAdress(this.selectedAdr)}isValid(){return this.form.controls}getDeliveryPrice(e){this.deliveryService.getDeliveryPrice(this.selectedAdr.adr,e,1).subscribe(n=>{("DOMICILE"==e||"POINT_DE_RELAIT"==e)&&(this.selectedAdr.price="0",this.cartService._deliveryAddressSubject.next(this.selectedAdr),this.setLocalAdress(this.selectedAdr))})}updateDeliveryAddress(){this.cartService._deliveryAddressSubject.next(this.selectedAdr)}_filter(e){const n=e.toLowerCase();return this.pointOfSaleList.filter(o=>0===o.posWilaya.toLowerCase().indexOf(n)||0===o.posCommune.toLowerCase().indexOf(n)||0===o.namePos.toLowerCase().indexOf(n))}goAddressEdit(){localStorage.setItem("updateAddressMode",JSON.stringify(!0)),this.router.navigateByUrl("/account/address")}getContactInformation(){this.contactInformationsService.getById(1).subscribe(e=>{this.contactInformation=e.body})}checkPlaceHolder(){return this.myplaceHolder?void(this.myplaceHolder=""):void(this.myplaceHolder="Entrer Wilaya")}filteredPointsExecuted(){this.filteredOptions=this.form.get("selectedRelayPoint").valueChanges.pipe((0,Q.O)(""),(0,S.U)(e=>e),(0,S.U)(e=>e?this._filter(e.toString()):this.pointOfSaleList.slice()))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(ct.D),t.Y36(I.B),t.Y36(L.N),t.Y36(pt),t.Y36(_.uw),t.Y36(A.Yg),t.Y36(l.qu),t.Y36(gt.e),t.Y36(C.F0),t.Y36(q.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-delivery"]],decls:32,vars:8,consts:[["hideToggle","true",1,"fix-radio-position"],[1,"cart-section-title"],["disabled","",3,"expanded"],["fxFlex","90","fxFlex.lt-sm","77"],[1,"wrap-mat-radio"],["fxLayout","row","fxLayout.lt-sm","column",1,"delivery-free"],[1,"province"],[1,"title-section-free"],["fxLayout","column",1,"selected-relay"],[3,"formGroup"],[1,"phone"],["appearance","outline","fxFlex","100"],["matPrefix","","src","assets/icons/svgs/call-dblue-24px.svg","alt",""],["matInput","","formControlName","phoneNumber","type","text","placeholder","T\xe9l\xe9phone","tenDigitsOnly","",1,"",3,"input"],["class","invalid",4,"ngIf"],["appearance","outline",1,"example-full-width",3,"click"],["src","assets/icons/svgs/arrow-dropdown.svg",2,"width","14px","height","14px","position","absolute","right","5px"],["matInput","","placeholder","Point de vente","formControlName","selectedRelayPoint",3,"matAutocomplete"],[3,"optionSelected"],["auto","matAutocomplete"],["style","font-size: 15px;height: 25px;",3,"value",4,"ngFor","ngForOf"],["class","detail-adr  ",4,"ngIf"],[1,"invalid"],[4,"ngIf"],[2,"font-size","15px","height","25px",3,"value"],[1,"detail-adr"],[1,"detail-adr-title"],[3,"href"]],template:function(e,n){if(1&e&&(t.TgZ(0,"mat-accordion",0)(1,"div",1),t._uU(2," POINT DE VENTE"),t.qZA(),t.TgZ(3,"mat-expansion-panel",2)(4,"mat-expansion-panel-header")(5,"mat-panel-description")(6,"div",3)(7,"span",4),t._uU(8,"Choix du point de vente"),t.qZA()()()(),t.TgZ(9,"div",5)(10,"div",6)(11,"span",7),t._uU(12," Apr\xe8s avoir saisie votre num\xe9ro de t\xe9l\xe9phone, "),t._UZ(13,"br"),t._uU(14," choisissez le point de vente le plus proche de vous pour r\xe9cup\xe9rer votre commande "),t.qZA(),t.TgZ(15,"div",8)(16,"form",9)(17,"div",10)(18,"mat-form-field",11),t._UZ(19,"img",12),t.TgZ(20,"input",13),t.NdJ("input",function(){return n.selectRelayPoint(!1)}),t.qZA()()(),t.YNc(21,ft,3,2,"div",14),t.TgZ(22,"mat-form-field",15),t.NdJ("click",function(){return n.filteredPointsExecuted()}),t._UZ(23,"img",16)(24,"input",17),t.TgZ(25,"mat-autocomplete",18,19),t.NdJ("optionSelected",function(s){return n.getRelayPoint(s.option.value)}),t.YNc(27,_t,2,2,"mat-option",20),t.ALo(28,"async"),t.qZA()()()()(),t.YNc(29,Ct,26,9,"div",21),t.qZA()()(),t.TgZ(30,"div"),t._UZ(31,"mat-accordion",0),t.qZA()),2&e){const o=t.MAs(26);t.xp6(3),t.Q6J("expanded",!0),t.xp6(13),t.Q6J("formGroup",n.form),t.xp6(5),t.Q6J("ngIf",n.isValid().phoneNumber.touched&&n.isValid().phoneNumber.errors),t.xp6(3),t.Q6J("matAutocomplete",o),t.xp6(3),t.Q6J("ngForOf",t.lcZ(28,6,n.filteredOptions)),t.xp6(2),t.Q6J("ngIf",n.selectedRelay)}},dependencies:[d.sg,d.O5,g.xw,g.yH,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,f.KE,f.qo,N.Nt,z.XC,z.ZL,k.ey,O.pp,O.ib,O.yz,O.u4,ut.O,d.Ov],styles:[".fix-radio-position[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-description[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{font-family:CeraPro;font-size:16px;font-weight:700;line-height:1.25;text-align:left;color:var(--text)}.wrap-livr-dom[_ngcontent-%COMP%]{font-family:CeraPro;font-size:16px;font-weight:700;line-height:4.25;text-align:left;color:var(--text)}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{height:70px!important}.address-section-title[_ngcontent-%COMP%]{color:#1a1a27;font-size:18px;line-height:1.46;margin-bottom:24px}.cart-section-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;line-height:1.46;color:var(--text);margin-bottom:24px}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 3px 6px #00314714}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-description[_ngcontent-%COMP%]{height:40px!important;align-items:center}input.mat-input-element[_ngcontent-%COMP%]{font-size:14px;margin-left:16px;font-weight:700;color:var(--cyprus-whale)}.wrap-mat-radio[_ngcontent-%COMP%]{color:var(--text)!important;font-weight:600}#mat-select-0[_ngcontent-%COMP%]{margin-left:8px}.type-selected[_ngcontent-%COMP%]{font-family:CeraPro;font-size:16px;font-weight:700;line-height:1.25;text-align:right;color:var(--leaf-green);margin-top:3px}.type[_ngcontent-%COMP%]{font-family:CeraPro;font-size:16px;font-weight:700;line-height:1.25;text-align:right;color:var(--text);margin-top:3px}.province[_ngcontent-%COMP%]{padding:0% 0% 3% 3%;flex-basis:60%}.title-section-free[_ngcontent-%COMP%]{font-family:CeraPro;font-size:14px;line-height:1.67;text-align:left;color:var(--text)}.selected-relay[_ngcontent-%COMP%]{width:78%}.selected-relay[_ngcontent-%COMP%]   .phone[_ngcontent-%COMP%]{margin-bottom:10px}.selected-relay[_ngcontent-%COMP%]   .invalid[_ngcontent-%COMP%]{color:var(--cherry-red)}.selected-relay[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;height:56px}.selected-relay[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{color:var(--ek-brand-cyprus_base);font-family:CeraPro;font-size:14px;font-weight:700;line-height:1.28;text-align:left}.selected-relay[_ngcontent-%COMP%]  div.mat-form-field-outline-start, .selected-relay[_ngcontent-%COMP%]  div.mat-form-field-outline-end{border:none!important}.selected-relay[_ngcontent-%COMP%]  .mat-form-field-wrapper{background-color:var(--text-bg)!important;border-radius:8px;padding-bottom:0;box-shadow:0 0 #00314729}.selected-relay[_ngcontent-%COMP%]  .mat-form-field-type-mat-select .mat-form-field-label, .selected-relay[_ngcontent-%COMP%]  .mat-select-value{color:var(--cyprus-whale)}.detail-adr[_ngcontent-%COMP%]{font-size:16px;font-weight:500;text-align:left;flex-basis:40%;padding-left:3%;color:var(--eki-dark-cyprus)}.detail-adr[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin-top:0;margin-bottom:6px}.detail-adr[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{margin:0}.detail-adr-title[_ngcontent-%COMP%]{font-weight:400;color:var(--text)}.time-delivery[_ngcontent-%COMP%]{max-width:100%;border-radius:8px;border:solid 1px var(--pantone);margin-top:16px;padding:14px}.time-delivery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:72px;margin-right:8px}@media (min-width: 600px){.time-delivery[_ngcontent-%COMP%]{padding:7px;max-width:700px}}.txt-time-delivery[_ngcontent-%COMP%]{font-family:CeraPro;font-size:18px;font-weight:700;line-height:1.8;text-align:left;color:var(--blanka-green);margin-left:12px}.txt-time-delivery[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{color:var(--ek-brand-cyprus_base);font-style:normal}@media (max-width: 599px){.txt-time-delivery[_ngcontent-%COMP%]{text-align:center}}.add-new-address-btn[_ngcontent-%COMP%]{height:56px;border-radius:4px;box-shadow:0 1px 2px #00314729;background-color:var(--text-bg);width:100%;position:relative;font-size:14px;font-weight:700;color:var(--ek-brand-cyprus_base);text-align:left}.add-new-address-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:18px;right:10px}.edit-adr-btn[_ngcontent-%COMP%]{font-size:16px;font-weight:700;text-transform:uppercase;color:var(--text);background-color:var(--white)}@media only screen and (max-width: 767px){.fix-radio-position[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-description[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{font-size:16px;line-height:1.25}.wrap-mat-radio[_ngcontent-%COMP%]{white-space:normal;color:var(--text)!important}.type-selected[_ngcontent-%COMP%]{font-size:14px;line-height:1.25}.selected-relay[_ngcontent-%COMP%]{width:90%!important}.selected-relay[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{font-size:16px}.type[_ngcontent-%COMP%]{font-size:14px;line-height:1.25}.title-section-free[_ngcontent-%COMP%]{line-height:1.5;font-size:14px}#mat-input-1[_ngcontent-%COMP%]{font-size:14px}.detail-adr[_ngcontent-%COMP%]{line-height:1.5;font-size:14px}.add-new-address-btn[_ngcontent-%COMP%]{font-size:14px}.txt-time-delivery[_ngcontent-%COMP%]{margin-left:0;font-size:18px}.txt-time-g[_ngcontent-%COMP%]{text-align:center}}@media only screen and (min-width: 768px) and (max-width: 1024px){.time-delivery[_ngcontent-%COMP%]{max-width:100%;flex-direction:row}.img[_ngcontent-%COMP%]{margin:0}.txt-time-g[_ngcontent-%COMP%]{padding-top:4.5%}.detail-adr[_ngcontent-%COMP%]{line-height:1.5;font-size:14px;padding-left:3%;padding-top:0}.add-new-address-btn[_ngcontent-%COMP%]{font-size:14px}}@media screen and (min-width: 1400px){.fix-radio-position[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-description[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{font-family:CeraPro;font-size:18px!important}.add-new-address-btn[_ngcontent-%COMP%]{font-size:16px}.selected-relay[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{font-size:14px}.detail-adr[_ngcontent-%COMP%], input.mat-input-element[_ngcontent-%COMP%], .title-section-free[_ngcontent-%COMP%], .detail-adr[_ngcontent-%COMP%], .type-selected[_ngcontent-%COMP%], .type[_ngcontent-%COMP%], .txt-time-delivery[_ngcontent-%COMP%]{font-size:16px!important}}@media (min-width: 1600px){.fix-radio-position[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-description[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{font-family:CeraPro;font-size:20px!important}.selected-relay[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{font-size:18px}.detail-adr[_ngcontent-%COMP%], input.mat-input-element[_ngcontent-%COMP%], .title-section-free[_ngcontent-%COMP%], .detail-adr[_ngcontent-%COMP%]{font-size:18px!important}.type-selected[_ngcontent-%COMP%], .type[_ngcontent-%COMP%], .txt-time-delivery[_ngcontent-%COMP%]{font-size:20px!important}}"],data:{animation:[(0,v.X$)("inOutAnimation",[(0,v.eR)(":enter",[(0,v.oB)({height:0,opacity:0}),(0,v.jt)(".3s linear",(0,v.oB)({transform:"scale(0,1)",opacity:.3}))]),(0,v.eR)(":leave",[(0,v.jt)("1s ease-in",(0,v.oB)({height:0,opacity:0}))])])]}}),i})();var E=r(55941),xt=r(18481);function vt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"img",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeDialog())}),t.qZA()(),t.TgZ(3,"div",4),t._UZ(4,"img",5),t.qZA(),t.TgZ(5,"div",6)(6,"div",7),t._uU(7),t.ALo(8,"uppercase"),t.qZA(),t.TgZ(9,"div",8)(10,"span",9)(11,"b"),t._uU(12," Commande N\xb0: "),t.qZA(),t.TgZ(13,"strong"),t._uU(14),t.qZA()(),t._UZ(15,"br"),t._uU(16," vous pouvez commencer le proc\xe9dure de dossier en cliquant sur "),t.TgZ(17,"b"),t._uU(18," importez votre dossier "),t.qZA(),t._uU(19," . "),t.qZA()(),t.TgZ(20,"div",10),t._UZ(21,"img",11),t.TgZ(22,"span"),t._uU(23," Votre demande sera livr\xe9 une "),t._UZ(24,"br"),t._uU(25," fois votre "),t.TgZ(26,"span",12),t._uU(27," dossier valid\xe9 "),t.qZA()()(),t.TgZ(28,"div",13)(29,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.printOrderBill())}),t.TgZ(30,"span"),t._uU(31," D\xc9TAIL DE LA COMMANDE "),t.qZA()(),t.TgZ(32,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.goToFolders())}),t._UZ(33,"img",16),t.TgZ(34,"span"),t._uU(35," IMPORTEZ VOTRE DOSSIER "),t.qZA()()(),t.TgZ(36,"div",17),t._UZ(37,"app-order-bill",18),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(7),t.hij(" ",t.lcZ(8,3,"Commande envoy\xe9e")," "),t.xp6(7),t.Oqu(e.data.order.id),t.xp6(23),t.Q6J("idOrder",6)}}let Pt=(()=>{class i{constructor(e,n,o,s,p,u,c){this.dialogRef=e,this.accountService=n,this.orderService=o,this.route=s,this.contactInformationsService=p,this.data=u,this.router=c}ngOnInit(){this.order=this.data.order,this.accountService.accountSubject.subscribe(e=>{e&&(this.client=e)}),this.orderService.orderSubject.subscribe(e=>{this.lastOrder=e&&null!=e[0]?e[e.totalElements-1]:null}),this.contactInformationsService.getById(1).subscribe(e=>{this.contactInformation=e.body})}closeDialog(){this.dialogRef.close()}printOrderBill(){let e=this.data.order.id;this.dialogRef.close(),this.router.navigateByUrl("/account/orders/"+e+"/"+this.order?.folderId)}goToFolders(){this.dialogRef.close(),this.router.navigateByUrl(`account/orders/${this.data.order.id}/${this.data.order.folderId}/files`)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.so),t.Y36(I.B),t.Y36(E.p),t.Y36(C.F0),t.Y36(q.e),t.Y36(_.WI),t.Y36(C.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-order-pop-up"]],decls:1,vars:1,consts:[["class","divv",4,"ngIf"],[1,"divv"],[1,"close-tab"],["src","assets/icons/svgs/remove-24px-2.svg",3,"click"],[1,"big-img-header"],["src","assets/icons/svgs/Aspect%20Ratio%20Spacer%20.svg"],["fxLayout","column","fxLayoutAlign","space-between center","fxLayoutGap","1em",1,"second-part"],[1,"first-part"],[1,"parag"],[2,"line-height","2rem"],[1,"delivery"],["matPrefix","","src","assets/icons/svgs/Livraison gratuite .svg"],[1,"dark-span"],["mat-dialog-actions","","fxLayout","column","fxLayoutAlign","space-between center","fxLayoutGap","1em",1,"actions-buttons"],["mat-button","",1,"ek-white-storck-button","ek-storck-button",3,"click"],["mat-button","",1,"ek-bleu-storck-button","ek-storck-button",3,"click"],["src","assets/icons/svgs/drive_folder_upload.svg"],["id","order-bill-body",2,"display","none"],[3,"idOrder"]],template:function(e,n){1&e&&t.YNc(0,vt,38,5,"div",0),2&e&&t.Q6J("ngIf",n.order)},dependencies:[d.O5,h.lW,g.xw,g.SQ,g.Wh,f.qo,_.H8,xt.u,d.gd],styles:[".divv[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1em}.close-tab[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%}.close-tab[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.5em;height:1.5em;cursor:pointer}.big-img-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.second-part[_ngcontent-%COMP%]{font-family:Cera Pro;font-style:normal;font-weight:700;font-size:16px;line-height:20px;padding:.3em;color:var(--ek-shade-sh-light-05)}.second-part[_ngcontent-%COMP%]   .first-part[_ngcontent-%COMP%]{font-family:Cera Pro;font-style:normal;font-weight:700;font-size:20px;line-height:25px;text-transform:uppercase;color:var(--ek-brand-green_base)}.second-part[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--ek-bleu-base)}.second-part[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:var(--ek-shade-sh-light-03)}.second-part[_ngcontent-%COMP%]   .dossier[_ngcontent-%COMP%]{font-style:normal;font-weight:500;font-size:16px;line-height:20px;color:var(--ek-bleu-base);display:flex;flex-direction:row;justify-content:flex-start;width:100%;gap:.5em}.delivery[_ngcontent-%COMP%]{position:relative;padding:15px 20px;background-color:var(--text-bg);display:flex;align-items:center;gap:.5em;width:100%;height:4em;color:var(--ek-shade-sh-light-05);font-size:16px}.delivery[_ngcontent-%COMP%]   .dark-span[_ngcontent-%COMP%]{color:var(--ek-shade-sh-light-02)}.delivery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;width:75.5px;height:51.5px}.actions-buttons[_ngcontent-%COMP%]{width:100%;padding:0 1em 1.8em}.actions-buttons[_ngcontent-%COMP%]   .ek-white-storck-button[_ngcontent-%COMP%]{color:var(--ek-bleu-base);background-color:var(--ek-white);border:solid 3px var(--ek-bleu-base);border-radius:8px}.actions-buttons[_ngcontent-%COMP%]   .ek-bleu-storck-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center;margin:0;border-radius:8px;box-shadow:0 1px 2px #009dcc99;background-color:var(--ek-bleu-base);color:var(--ek-white)}.actions-buttons[_ngcontent-%COMP%]   .ek-bleu-storck-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:.3em}.actions-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}@media (max-width: 1399px){.divv[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1em}}@media (max-width: 600px){.divv[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1em}.delivery[_ngcontent-%COMP%]   br[_ngcontent-%COMP%], .delivery-but[_ngcontent-%COMP%]{display:none}.two-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-basis:100%;margin-left:0;width:95vw}.call-button[_ngcontent-%COMP%]{width:95vw}}"]}),i})();var Ot=r(61135),Z=r(99602),H=r(18815);function Mt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeDialog())}),t._UZ(1,"img",18),t.qZA()}}function yt(i,a){1&i&&(t.TgZ(0,"div",33)(1,"h3"),t._uU(2,"Montant d'achat inferieur \xe0 limite minimum autoris\xe9 "),t.qZA(),t.TgZ(3,"p"),t._uU(4,"La somme des produits achet\xe9s doit d\xe9passer "),t._UZ(5,"br"),t._uU(6," 50 000 DZD. Essayez d'ajouter ou modifier la quantit\xe9 des produits achet\xe9s atteindre ce montant "),t.qZA()())}function bt(i,a){1&i&&(t.TgZ(0,"div",33)(1,"h3"),t._uU(2,"Vous avez d\xe9passer la limite max d'achat autoris\xe9 "),t.qZA(),t.TgZ(3,"p"),t._uU(4,"La somme des produits achet\xe9s ne doit pas d\xe9passer 1 500 000 DZD. Essayez de r\xe9duire la quantit\xe9 ou modifier la liste des produits achet\xe9s pour ne pas d\xe9pass\xe9 ce montant"),t.qZA()())}function At(i,a){if(1&i&&(t.TgZ(0,"span",35),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" : ",t.xi3(2,1,e.data.capacity,"1.2-2")," DZD")}}function Tt(i,a){if(1&i&&(t.TgZ(0,"div",33)(1,"h3"),t._uU(2,"Montant de commande sup\xe9rieur \xe0 la capacit\xe9 d'achat "),t.YNc(3,At,3,4,"span",34),t.qZA(),t.TgZ(4,"p"),t._uU(5," Vous avez d\xe9pass\xe9 la somme maximum autoris\xe9. Essayez de changer les informations de simulation, r\xe9duire la quantit\xe9 ou modifier la liste des produits achet\xe9s pour ne pas d\xe9pass\xe9 ce montant"),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",e.data.capacity)}}function wt(i,a){if(1&i&&(t.TgZ(0,"span",35),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" : ",t.xi3(2,1,.3*e.data.salary,"1.2-2")," DZD")}}function Zt(i,a){if(1&i&&(t.TgZ(0,"div",33)(1,"h3"),t._uU(2,"Mensualit\xe9 sup\xe9rieur \xe0 30% de votre salaire"),t.YNc(3,wt,3,4,"span",34),t.qZA(),t.TgZ(4,"p"),t._uU(5," La mensualit\xe9 doit \xeatre \xe9gale ou inf\xe9rieur \xe0 30% de votre salaire. "),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",e.data.capacity)}}function kt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20),t._UZ(2,"img",21),t.YNc(3,yt,7,0,"div",22),t.YNc(4,bt,5,0,"div",22),t.YNc(5,Tt,6,1,"div",22),t.YNc(6,Zt,6,1,"div",22),t.qZA(),t.TgZ(7,"form",23)(8,"label",24),t._uU(9,"Paiement sur : "),t._UZ(10,"br"),t.qZA(),t.TgZ(11,"div",25)(12,"div",26)(13,"ng5-slider",27),t.NdJ("valueChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.paymentType=o)})("valueChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.radioChange(o))}),t.qZA(),t.TgZ(14,"div",28)(15,"div",29),t._uU(16,"12"),t.qZA(),t.TgZ(17,"div",29),t._uU(18,"24"),t.qZA(),t.TgZ(19,"div",29),t._uU(20,"36"),t.qZA(),t.TgZ(21,"div",29),t._uU(22,"48"),t.qZA(),t.TgZ(23,"div",29),t._uU(24,"60"),t.qZA()()(),t.TgZ(25,"div",30)(26,"p",31),t._uU(27),t.TgZ(28,"span",32),t._uU(29,"Mois"),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngIf","LowerThanFinance"==e.data.errorCode),t.xp6(1),t.Q6J("ngIf","HigherThanFinance"==e.data.errorCode),t.xp6(1),t.Q6J("ngIf","HigherThanCapacity"==e.data.errorCode),t.xp6(1),t.Q6J("ngIf","HigherThanMensuality"==e.data.errorCode),t.xp6(1),t.Q6J("formGroup",e.myForm),t.xp6(6),t.Q6J("value",e.paymentType)("options",e.options),t.xp6(14),t.hij(" ",e.paymentType," ")}}function St(i,a){1&i&&(t.TgZ(0,"span",36),t._uU(1," Vous devez mentionner votre date de naissance "),t.qZA())}function It(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1," Votre age doit etre entre 18 et 75 ans "),t.qZA())}function Et(i,a){1&i&&(t.TgZ(0,"span",36),t._uU(1," Votre salaire doit etre sup\xe9rieur a 25 000 DZD "),t.qZA())}function Ut(i,a){1&i&&(t.TgZ(0,"span",36),t._uU(1," Vous devez mentionner votre salaire "),t.qZA())}let Dt=(()=>{class i{constructor(e,n,o){this.dialogRef=e,this.fb=n,this.data=o,this.clientForm=this.fb.group({date:new l.NI(this.data?.date?(0,d.p6)(this.data?.date,"yyyy-MM-dd","en"):"",l.kI.required),salary:new l.NI(this.data?this.data?.salary:"",l.kI.compose([l.kI.required,l.kI.min(25e3)]))},{validators:Nt}),this.paymentType=60,this.color="accent",this.options={floor:12,ceil:60,showSelectionBar:!0},this.myForm=this.fb.group({options:[null]})}get salaryControl(){return this.clientForm.get("salary")}get dateControl(){return this.clientForm.get("date")}ngOnInit(){this.paymentType=this.data.paymentType,this.myForm.get("options")?.setValue(this.data.paymentType)}closeDialog(){this.dialogRef.close()}onContinue(){const e=this.clientForm.controls;this.clientForm.invalid?Object.keys(e).forEach(o=>e[o].markAsTouched()):this.dialogRef.close({date:e.date.value,salary:e.salary.value,paymentType:this.paymentType})}radioChange(e){this.paymentType=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.so),t.Y36(l.qu),t.Y36(_.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-cart-client-pop-up"]],decls:32,vars:9,consts:[[1,"host"],["mat-dialog-title",""],["fxFlex",""],[1,"shine"],["mat-icon-button","",3,"click",4,"ngIf"],["style","padding-top: 22px;flex-direction: column;box-sizing: border-box;display: flex;",4,"ngIf"],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex","100",2,"padding-right","20px"],["formControlName","date","placeholder","Date de naissance","matInput","",1,"text-input",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["class","validation-error-message",4,"ngIf"],[4,"ngIf"],["min","25000","matInput","","type","number","formControlName","salary","placeholder","25000",1,"text-input"],[1,"currency-code"],["mat-button","",1,"continue-button",3,"click"],["mat-icon-button","",3,"click"],["src","assets/icons/svgs/close.svg"],[2,"padding-top","22px","flex-direction","column","box-sizing","border-box","display","flex"],["fxFlex.sm","auto","fxFlex.md","200px","fxFlex.gt-lg","200px",1,"warning"],["src","assets/icons/svgs/info-red.svg","alt","",1,"info-red"],["class","limit-price",4,"ngIf"],[1,"facilite-options",3,"formGroup"],["id","paiement"],[2,"display","flex","flex-direction","row"],[2,"display","flex","flex-direction","column"],["formControlName","options",3,"value","options","valueChange"],[2,"display","flex","flex-direction","row","justify-content","space-between"],[1,"monthsNumber"],[1,"selectedMonth"],[1,"selectedText"],["matSuffix","",2,"font-size","18px","color","var(--text-holder)"],[1,"limit-price"],["class","capacity",4,"ngIf"],[1,"capacity"],[1,"validation-error-message"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._UZ(2,"span",2),t.TgZ(3,"span",3),t._uU(4," SIMULATION DE PANIER "),t.qZA(),t._UZ(5,"span",2),t.YNc(6,Mt,2,0,"button",4),t.qZA(),t.YNc(7,kt,30,8,"div",5),t._UZ(8,"br"),t.TgZ(9,"form",6)(10,"mat-dialog-content",7)(11,"mat-form-field",8)(12,"mat-label"),t._uU(13,"Date de naissance"),t.qZA(),t._UZ(14,"input",9)(15,"mat-datepicker-toggle",10)(16,"mat-datepicker",null,11),t.YNc(18,St,2,0,"span",12),t.YNc(19,It,2,0,"span",13),t.qZA(),t._UZ(20,"div"),t.TgZ(21,"mat-form-field",8)(22,"mat-label"),t._uU(23,"Salaire"),t.qZA(),t._UZ(24,"input",14),t.TgZ(25,"span",15),t._uU(26," DZD"),t.qZA(),t.YNc(27,Et,2,0,"span",12),t.YNc(28,Ut,2,0,"span",12),t.qZA()(),t.TgZ(29,"button",16),t.NdJ("click",function(){return n.onContinue()}),t.TgZ(30,"a"),t._uU(31," CONTINUER "),t.qZA()()()()),2&e){const o=t.MAs(17);t.xp6(6),t.Q6J("ngIf","false"==n.data.isShown),t.xp6(1),t.Q6J("ngIf",n.data.isLimited),t.xp6(2),t.Q6J("formGroup",n.clientForm),t.xp6(5),t.Q6J("matDatepicker",o),t.xp6(1),t.Q6J("for",o),t.xp6(3),t.Q6J("ngIf",n.dateControl.touched&&n.dateControl.hasError("required")),t.xp6(1),t.Q6J("ngIf",n.dateControl.touched&&n.clientForm.hasError("dateValid")),t.xp6(8),t.Q6J("ngIf",n.salaryControl.touched&&n.salaryControl.hasError("min")),t.xp6(1),t.Q6J("ngIf",n.salaryControl.touched&&n.salaryControl.hasError("required"))}},dependencies:[d.O5,g.xw,g.Wh,g.yH,h.lW,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.qQ,l.sg,l.u,f.KE,f.hX,f.R9,N.Nt,Z.Mq,Z.hl,Z.nW,_.uh,_.xY,H.w5,d.JJ],styles:["h2[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:-24px -24px 0;background-color:var(--eki-dark-cyprus);text-align:center;height:40px;position:relative;border:1px solid #191D34;box-shadow:0 6px 26px #00314733}h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;font-weight:500;color:#fff}.text-container[_ngcontent-%COMP%]{margin-top:16px;display:flex;flex-wrap:wrap;flex-direction:column;height:auto}  .mat-form-field-underline{display:none}mat-datepicker-toggle[_ngcontent-%COMP%]{RIGHT:25px!important;WIDTH:2px;top:24px;position:absolute;color:var(--eki-dark-cyprus)}.text-input[_ngcontent-%COMP%]{height:56.5px;border-radius:8px;padding:4px 16px 10px 10px;border:1px solid var(--ek-shade-sh-light-08);background-color:var(--ek-shade-sh-light-10);color:var(--ek-shade-sh-light-05);font-weight:600;font-size:1.8em}.continue-button[_ngcontent-%COMP%]{width:100%;height:60px;border-radius:4px;box-shadow:0 2px 6px #3282cc99;background-color:var(--ek-brand-blue_base)}.continue-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:24px;font-weight:900;font-stretch:normal;font-style:normal}.currency-code[_ngcontent-%COMP%]{position:absolute;right:0;font-weight:700;top:26px;font-size:1.6em;color:var(--eki-dark-cyprus)!important}.continue-button[_ngcontent-%COMP%]:disabled, .continue-button[disabled][_ngcontent-%COMP%]{border:1px solid var(--ek-shade-sh-light-08);background-color:#ccc;color:var(--ek--gris-44);box-shadow:none}span[_ngcontent-%COMP%]{color:var(--ek--cherry-red)}.warning[_ngcontent-%COMP%]{width:460px!important;padding:12px 16px;font-size:16px;border:2px solid var(--ek-red-danger);border-radius:8px;display:flex;background:rgba(255,10,34,.05)}.info-red[_ngcontent-%COMP%]{width:20px;height:20px;padding-right:10px;padding-top:24px}.limit-price[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{color:var(--ek--cherry-red)}.limit-price[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child   .capacity[_ngcontent-%COMP%]{font-weight:700;color:var(--eki-dark-cyprus)!important}.limit-price[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{font-size:17px}#label1[_ngcontent-%COMP%]{position:absolute;right:42px;FONT-SIZE:24px;bottom:130px;color:var(--ek-shade-sh-light-05)}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.facilite-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:14px 0 0;gap:8px}.facilite-options[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--ek-shade-sh-light-07);font-size:16px}.facilite-options[_ngcontent-%COMP%]   .paiement-options[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:2em;justify-content:space-between}.facilite-options[_ngcontent-%COMP%]   .capacity[_ngcontent-%COMP%]{font-weight:700;background-color:var(--eki-dark-cyprus)!important}.facilite-options[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{color:var(--ek-shade-sh-light-05);font-size:20px}.facilite-options[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:8px}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}mat-label[_ngcontent-%COMP%]{font-size:20px;color:var(--ek-shade-sh-light-05)}ng5-slider[_ngcontent-%COMP%] {width:287px;height:5px;border-radius:30px;margin-right:5px}ng5-slider[_ngcontent-%COMP%]  .ng5-slider-bubble{visibility:hidden!important}ng5-slider[_ngcontent-%COMP%]  .custom-slider .ng5-slider-selection{width:287px;height:8px;border-radius:30px;margin-right:5px;background-color:var(--ek-brand-blue_base)!important}ng5-slider[_ngcontent-%COMP%]  .custom-slider .ng5-slider-fill{background-color:gray}ng5-slider[_ngcontent-%COMP%]  .ng5-slider-pointer{width:29px;height:30px;border:solid 2px var(--dark-blue);background-image:var(--ek-brand-blue_base);outline:none}ng5-slider[_ngcontent-%COMP%]  .selectedMonth{display:flex;align-items:center;Width:100px;Height:40px;background-color:#f0f3f4;margin-top:26px}ng5-slider[_ngcontent-%COMP%]  .selectedText{width:100%;font-size:23px;font-weight:700;text-align:right;color:var(--text-holder)}ng5-slider[_ngcontent-%COMP%]  .ng5-slider-limit{opacity:0!important}ng5-slider[_ngcontent-%COMP%]  .ng5-slider-pointer:after{display:none}.selectedMonth[_ngcontent-%COMP%]{display:flex;align-items:center;Width:90px;Height:35px;background-color:#f0f3f4;margin-top:35px;margin-left:20px}.selectedText[_ngcontent-%COMP%]{width:100%;font-size:23px;font-weight:700;text-align:right;color:var(--text-holder)}.monthsNumber[_ngcontent-%COMP%]{font-family:Cera Pro;font-size:16px;font-weight:500;line-height:20px;letter-spacing:0em;text-align:left;color:#545c78;margin-bottom:10px}@media (max-width: 599px){.first-radio[_ngcontent-%COMP%]{margin-left:8px}.warning[_ngcontent-%COMP%]{width:auto!important}text-input[_ngcontent-%COMP%]{font-size:1em}}"]}),i})();const Nt=i=>{const a=i.get("date")?i.get("date"):null,e=new Date("01/01/2023").setFullYear((new Date).getFullYear()-18),n=new Date("01/01/2023").setFullYear((new Date).getFullYear()-75);return new Date(a?.value).getTime()<=e&&new Date(a?.value).getTime()>=n?null:{dateValid:!0}};var x=r(5541),Lt=r(26076),j=r(90904),qt=r(89556),zt=r(87647),Ht=r(9213),P=r(55829),G=r(51572),V=r(94700),K=r(56709),Bt=r(72690);const Jt=function(){return["/"]},W=function(i){return{"stepper-item-disabled":i}};let Rt=(()=>{class i{constructor(e){this.router=e,this.step=1}ngOnInit(){}goBack(e){e<this.step&&this.router.navigate([],{queryParams:{step:e}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(C.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-stepper"]],inputs:{step:"step"},decls:20,vars:8,consts:[["fxLayout","row wrap","fxLayoutAlign","flex-start center",1,"container"],["fxHide.xs","true","fxHide.sm","true","fxFlex.md","15","fxFlex.lg","12%","fxFlex.xl","12%",1,"logo-site",2,"z-index","300"],[3,"routerLink"],["src","assets/icons/svgs/ekiclik_footer.svg","alt",""],[1,"stepper-div"],["mat-button","",1,"stepper-item",3,"click"],[1,"stepper-item-circle"],["mat-button","",1,"stepper-item",3,"ngClass","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t._UZ(3,"img",3),t.qZA()(),t.TgZ(4,"div",4)(5,"button",5),t.NdJ("click",function(){return n.goBack(1)}),t.TgZ(6,"div",6)(7,"span"),t._uU(8,"1"),t.qZA()(),t._uU(9," Panier "),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return n.goBack(2)}),t.TgZ(11,"div",6)(12,"span"),t._uU(13,"2"),t.qZA()(),t._uU(14," Point de vente "),t.qZA(),t.TgZ(15,"button",7),t.NdJ("click",function(){return n.goBack(3)}),t.TgZ(16,"div",6)(17,"span"),t._uU(18,"3"),t.qZA()(),t._uU(19," Confirmation "),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("routerLink",t.DdM(3,Jt)),t.xp6(8),t.Q6J("ngClass",t.VKq(4,W,n.step<2)),t.xp6(5),t.Q6J("ngClass",t.VKq(6,W,n.step<3)))},dependencies:[d.mk,C.yS,g.xw,g.Wh,g.yH,P.b8,P.oO,h.lW],styles:['[_nghost-%COMP%] > div[_ngcontent-%COMP%]{height:100%}.logo-site[_ngcontent-%COMP%]{margin-right:87px}.stepper-div[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center;flex-basis:60%;position:relative;overflow:hidden}.stepper-div[_ngcontent-%COMP%]   .stepper-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:60%;width:33%;font-size:16px;font-weight:700;color:var(--ek-brand-cyprus_base);padding-top:20px}.stepper-div[_ngcontent-%COMP%]   .stepper-item[_ngcontent-%COMP%]   .stepper-item-circle[_ngcontent-%COMP%]{width:40px;height:40px;box-shadow:0 3px 6px #02338214;background-color:var(--ek-brand-cyprus_base);border-radius:50%;display:flex;align-items:center;justify-content:center;margin-left:auto;margin-right:auto}.stepper-div[_ngcontent-%COMP%]   .stepper-item[_ngcontent-%COMP%]   .stepper-item-circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;text-align:center;color:var(--white)}.stepper-div[_ngcontent-%COMP%]   .stepper-item[_ngcontent-%COMP%]   .stepper-item-circle[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:var(--text-bg);display:block;width:100%;height:2px;top:unset;left:50%;z-index:-1}.stepper-div[_ngcontent-%COMP%]   .stepper-item[_ngcontent-%COMP%]:last-child   .stepper-item-circle[_ngcontent-%COMP%]:after{background:transparent}.stepper-div[_ngcontent-%COMP%]   .stepper-item-disabled[_ngcontent-%COMP%]{color:var(--pantone)}.stepper-div[_ngcontent-%COMP%]   .stepper-item-disabled[_ngcontent-%COMP%]   .stepper-item-circle[_ngcontent-%COMP%]{box-shadow:none;background-color:var(--text-bg)}.stepper-div[_ngcontent-%COMP%]   .stepper-item-disabled[_ngcontent-%COMP%]   .stepper-item-circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--pantone)}@media (max-width: 1519px){.stepper-div[_ngcontent-%COMP%]   .stepper-item[_ngcontent-%COMP%]   .stepper-item-circle[_ngcontent-%COMP%]{width:36px;height:36px}.stepper-div[_ngcontent-%COMP%]   .stepper-item[_ngcontent-%COMP%]   .stepper-item-circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}.logo-site[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:140px}}@media (max-width: 959px){.stepper-div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;flex-basis:100%!important}.add-promo-code-btn[_ngcontent-%COMP%]{margin-top:20px}}@media (max-width: 599px){.stepper-item[_ngcontent-%COMP%]{font-size:14px!important}.stepper-item[_ngcontent-%COMP%]   .stepper-item-circle[_ngcontent-%COMP%]{width:32px!important;height:32px!important}.stepper-item[_ngcontent-%COMP%]   .stepper-item-circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px!important}}@media (max-width: 320px){.stepper-item[_ngcontent-%COMP%]{font-size:12px!important}.stepper-item[_ngcontent-%COMP%]   .stepper-item-circle[_ngcontent-%COMP%]{width:32px!important;height:32px!important}.stepper-item[_ngcontent-%COMP%]   .stepper-item-circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px!important}}']}),i})();function Ft(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1,"Commander"),t.qZA())}function Qt(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1,"Valider"),t.qZA())}let Yt=(()=>{class i{constructor(){this.showFixedHeader=!1,this.payementMode="",this.disableButton=!1,this.loadingNewOrder=!1,this.onCheckout=new t.vpe}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-button-checkout"]],inputs:{showFixedHeader:"showFixedHeader",step:"step",payementMode:"payementMode",disableButton:"disableButton",loadingNewOrder:"loadingNewOrder"},outputs:{onCheckout:"onCheckout"},decls:5,vars:5,consts:[["fxLayout","row nowrap","fxLayoutAlign","space-between center",1,"navbar"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","8px",1,""],["mat-stroked-button","",3,"disabled","click"],[4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"nav",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return n.onCheckout.emit(!0)}),t.YNc(3,Ft,2,0,"span",3),t.YNc(4,Qt,2,0,"span",3),t.qZA()()()),2&e&&(t.xp6(2),t.ekj("spinner",n.loadingNewOrder),t.Q6J("disabled",3===n.step&&"CIB_ELDAHABIA"===n.payementMode&&n.disableButton||3===n.step&&!n.payementMode||n.loadingNewOrder),t.xp6(1),t.Q6J("ngIf",1==n.step||2==n.step),t.xp6(1),t.Q6J("ngIf",3==n.step))},dependencies:[d.O5,g.xw,g.SQ,g.Wh,h.lW],styles:[".navbar[_ngcontent-%COMP%]{position:fixed;bottom:0;justify-content:center;display:flex;width:100%;height:60px;padding:16px;box-shadow:0 2px 6px #02338229;background-color:var(--white);z-index:45}button[_ngcontent-%COMP%]{width:100%;height:48px;border-radius:4px;box-shadow:0 2px 6px #3282cc99;background-color:var(--ek-brand-blue_base);text-transform:uppercase;font-size:16px;font-weight:900;letter-spacing:normal;color:var(--white)!important}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:8px;width:24px}.navbar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}app-stepper[_ngcontent-%COMP%] >div{padding:0}app-stepper[_ngcontent-%COMP%]  button{padding-top:0!important;line-height:24px}button[_ngcontent-%COMP%]:disabled{opacity:.3}"]}),i})();function jt(i,a){1&i&&t._UZ(0,"app-cart-product-item",7),2&i&&t.Q6J("cartProduct",a.$implicit)}function Gt(i,a){if(1&i&&(t.TgZ(0,"div",5),t.YNc(1,jt,1,1,"app-cart-product-item",6),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.cartProducts)}}function Vt(i,a){1&i&&(t.TgZ(0,"div",8),t._UZ(1,"img",9),t.TgZ(2,"div",10),t._uU(3," Votre Panier est vide "),t.qZA()())}let X=(()=>{class i{constructor(){this.cartProducts=[],this.favorites=[],this.priceDelivery=0,this.selectedPromoConfigurations=[],this.totalTTC=0}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-cart-step1"]],inputs:{cartProducts:"cartProducts",favorites:"favorites",priceDelivery:"priceDelivery",client:"client",selectedPromoConfigurations:"selectedPromoConfigurations"},decls:7,vars:3,consts:[[1,"cart-section"],[1,"cart-section-title"],[1,"cart-section-cnt"],["class","",4,"ngIf","ngIfElse"],["noCartProduct",""],[1,""],[3,"cartProduct",4,"ngFor","ngForOf"],[3,"cartProduct"],["fxFlex","row nowrap","fxLayoutAlign","flex-start center",1,"empty-cart"],["src","assets/images/empty-cart.png"],[1,"empty-cart-msg"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,Gt,2,1,"div",3),t.YNc(5,Vt,4,0,"ng-template",null,4,t.W1O),t.qZA()()),2&e){const o=t.MAs(6);t.xp6(2),t.hij("PANIER FACILIT\xc9 (",n.cartProducts.length>1?n.cartProducts.length+" Articles":n.cartProducts.length+" Article",") "),t.xp6(2),t.Q6J("ngIf",n.cartProducts.length)("ngIfElse",o)}},styles:[".cart-section[_ngcontent-%COMP%]   .cart-section-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;line-height:1.46;color:var(--text);margin-bottom:24px}.cart-section[_ngcontent-%COMP%]   .cart-section-cnt[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 3px 6px #00314714;background-color:var(--white)}.cart-section[_ngcontent-%COMP%]   .cart-section-cnt[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}.favorites-section[_ngcontent-%COMP%]{margin-top:32px}.favorites-section[_ngcontent-%COMP%]   .favorite-section-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;line-height:1.46;color:var(--text);margin-bottom:24px}.favorites-section[_ngcontent-%COMP%]   .favorite-section-cnt[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 3px 6px #00314714;background-color:var(--white)}.empty-cart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:190px}.empty-cart[_ngcontent-%COMP%]   .empty-cart-msg[_ngcontent-%COMP%]{font-size:24px;font-weight:500;color:var(--ghost)}.loading-active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .loading-active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.5}@media (max-width: 1519px){.cart-section-title[_ngcontent-%COMP%], .favorite-section-title[_ngcontent-%COMP%], .confirmation-section-title[_ngcontent-%COMP%], .address-section-title[_ngcontent-%COMP%]{font-size:18px!important}.empty-cart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:170px}.empty-cart[_ngcontent-%COMP%]   .empty-cart-msg[_ngcontent-%COMP%]{font-size:18px}p[_ngcontent-%COMP%]{color:var(--text-holder);line-height:1.5;text-align:justify}}@media (min-width: 768px) and (max-width: 959px){.products-container[_ngcontent-%COMP%]{flex-basis:64%!important;max-width:64%}.empty-cart[_ngcontent-%COMP%]   .empty-cart-msg[_ngcontent-%COMP%]{font-size:15px;margin-left:0}}@media (max-width: 599px){.empty-cart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px}.empty-cart[_ngcontent-%COMP%]   .empty-cart-msg[_ngcontent-%COMP%]{font-size:18px}.empty-cart[_ngcontent-%COMP%]   .empty-cart-msg[_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{display:none}}"]}),i})(),Kt=(()=>{class i{constructor(){this.cartProducts=[],this.favorites=[]}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-cart-step2"]],inputs:{cartProducts:"cartProducts",favorites:"favorites",initDeliveryMode:"initDeliveryMode",client:"client",isPhysical:"isPhysical"},decls:3,vars:0,consts:[[1,"address-section-cnt"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div"),t._UZ(2,"app-delivery"),t.qZA()())},dependencies:[Y]}),i})();var B=r(71948),$=r(10266);function Wt(i,a){1&i&&(t.TgZ(0,"div"),t._uU(1," 12 Mois "),t.qZA())}function Xt(i,a){1&i&&(t.TgZ(0,"div"),t._uU(1," 24 Mois "),t.qZA())}function $t(i,a){1&i&&(t.TgZ(0,"div"),t._uU(1," 36 Mois "),t.qZA())}function te(i,a){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"number"),t.ALo(3,"mensual"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.xi3(2,1,e.math.abs(12*t.xi3(3,4,e.totalHT,e.duration)),"1.2-2")," DZD ")}}function ee(i,a){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"number"),t.ALo(3,"mensual"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.xi3(2,1,e.math.abs(24*t.xi3(3,4,e.totalHT,e.duration)),"1.2-2")," DZD ")}}function ne(i,a){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"number"),t.ALo(3,"mensual"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.xi3(2,1,e.math.abs(36*t.xi3(3,4,e.totalHT,e.duration)),"1.2-2")," DZD ")}}function ie(i,a){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"number"),t.ALo(3,"mensual"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.xi3(2,1,e.math.abs(12*t.xi3(3,4,e.totalHT,e.duration)-e.totalHT),"1.2-2")," DZD ")}}function oe(i,a){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"number"),t.ALo(3,"mensual"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.xi3(2,1,e.math.abs(24*t.xi3(3,4,e.totalHT,e.duration)-e.totalHT),"1.2-2")," DZD ")}}function ae(i,a){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"number"),t.ALo(3,"mensual"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.xi3(2,1,e.math.abs(36*t.xi3(3,4,e.totalHT,e.duration)-e.totalHT),"1.2-2")," DZD ")}}function re(i,a){if(1&i&&(t.TgZ(0,"div",1)(1,"section",2)(2,"div",3),t._UZ(3,"img",4),t.TgZ(4,"span",5),t._uU(5," Informations de Simulation "),t.qZA()(),t.TgZ(6,"div",6)(7,"span",5),t._uU(8,"SARL EKICLICK Alg\xe9rie"),t.qZA(),t.TgZ(9,"span"),t._uU(10),t._UZ(11,"img",7),t.qZA(),t.TgZ(12,"span"),t._uU(13),t._UZ(14,"img",8),t.qZA(),t.TgZ(15,"span"),t._uU(16," www.ekiclic.com "),t._UZ(17,"img",9),t.qZA(),t.TgZ(18,"span"),t._uU(19),t._UZ(20,"img",10),t.qZA()()(),t._UZ(21,"hr"),t.TgZ(22,"section",11)(23,"table")(24,"tr")(25,"td"),t._uU(26,"N\xb0 Client :"),t.qZA(),t.TgZ(27,"td"),t._uU(28),t.qZA(),t.TgZ(29,"td"),t._uU(30,"Nom et pr\xe9nom :"),t.qZA(),t.TgZ(31,"td"),t._uU(32),t.qZA()(),t.TgZ(33,"tr")(34,"td"),t._uU(35,"Point de vente :"),t.qZA(),t.TgZ(36,"td"),t._uU(37),t.qZA(),t.TgZ(38,"td"),t._uU(39,"N\xb0 T\xe9l\xe9phone :"),t.qZA(),t.TgZ(40,"td"),t._uU(41),t.qZA()()()(),t.TgZ(42,"section",12)(43,"table",13)(44,"tr",14)(45,"td",15),t._uU(46," R\xe9capitulatif de votre simulation "),t.qZA(),t._UZ(47,"td",15),t.qZA(),t.TgZ(48,"tr",16)(49,"td"),t._uU(50,"Mensualit\xe9"),t.qZA(),t.TgZ(51,"td")(52,"span",17),t._uU(53),t.ALo(54,"number"),t.ALo(55,"mensual"),t.qZA()()(),t.TgZ(56,"tr",16)(57,"td"),t._uU(58,"Dur\xe9e"),t.qZA(),t.TgZ(59,"td"),t.ynx(60,18),t.YNc(61,Wt,2,0,"div",19),t.YNc(62,Xt,2,0,"div",19),t.YNc(63,$t,2,0,"div",19),t.BQk(),t.qZA()(),t.TgZ(64,"tr",16)(65,"td"),t._uU(66,"Montant \xe0 financer "),t.qZA(),t.TgZ(67,"td"),t._uU(68),t.ALo(69,"number"),t.qZA()(),t.TgZ(70,"tr",16)(71,"td"),t._uU(72,"Montant des remboursements "),t.qZA(),t.TgZ(73,"td"),t.ynx(74,18),t.YNc(75,te,4,7,"div",19),t.YNc(76,ee,4,7,"div",19),t.YNc(77,ne,4,7,"div",19),t.BQk(),t.qZA()(),t.TgZ(78,"tr",16)(79,"td"),t._uU(80," Montant total de la marge "),t.qZA(),t.TgZ(81,"td"),t.ynx(82,18),t.YNc(83,ie,4,7,"div",19),t.YNc(84,oe,4,7,"div",19),t.YNc(85,ae,4,7,"div",19),t.BQk(),t.qZA()()()(),t.TgZ(86,"section",20)(87,"div",21),t._UZ(88,"img",4),t.qZA(),t.TgZ(89,"span",22),t._uU(90," Toute r\xe9clamation concernant une livraison (Manquant, Produit abim\xe9, Erreur de r\xe9f\xe9rence, Erreur de packaging) doit nous parvenir par \xe9crit, end\xe9ans les 24 heures apr\xe8s r\xe9ception de la marchandise. "),t.qZA()()()),2&i){const e=t.oxw();t.xp6(10),t.hij(" ",null==e.contactInformation?null:e.contactInformation.address," "),t.xp6(3),t.Oqu(null==e.contactInformation?null:e.contactInformation.ekInfoEmail),t.xp6(6),t.lnq(" ",null==e.contactInformation?null:e.contactInformation.ekPhoneNumber," "," / "," ",null==e.contactInformation?null:e.contactInformation.ekPhoneNumber2," "),t.xp6(9),t.Oqu(null==e.client?null:e.client.id),t.xp6(4),t.AsE(" ",null==e.client?null:e.client.lastname,", ",null==e.client?null:e.client.firstname," "),t.xp6(5),t.AsE("",null==e.clientAdr?null:e.clientAdr.adr.addressLine1,", ",null==e.clientAdr?null:e.clientAdr.adr.wilaya,""),t.xp6(4),t.Oqu(null==e.clientAdr?null:e.clientAdr.adr.phone),t.xp6(12),t.hij("",t.xi3(54,25,e.math.abs(t.xi3(55,28,e.totalHT,e.duration)),"1.2-2")," DZD / Mois"),t.xp6(7),t.Q6J("ngSwitch",e.duration),t.xp6(1),t.Q6J("ngSwitchCase",1),t.xp6(1),t.Q6J("ngSwitchCase",2),t.xp6(1),t.Q6J("ngSwitchCase",3),t.xp6(5),t.hij("",t.xi3(69,31,e.totalHT,"1.2-2")," DZD"),t.xp6(6),t.Q6J("ngSwitch",e.duration),t.xp6(1),t.Q6J("ngSwitchCase",1),t.xp6(1),t.Q6J("ngSwitchCase",2),t.xp6(1),t.Q6J("ngSwitchCase",3),t.xp6(5),t.Q6J("ngSwitch",e.duration),t.xp6(1),t.Q6J("ngSwitchCase",1),t.xp6(1),t.Q6J("ngSwitchCase",2),t.xp6(1),t.Q6J("ngSwitchCase",3)}}let se=(()=>{class i{constructor(e,n){this.contactInformationsService=e,this.mensualPipe=n,this.cartProducts=[],this.totalHT=0,this.duration=1,this.math=Math}ngOnInit(){this.duration=Number(window.localStorage.getItem("paymentType")),this.clientAdr=JSON.parse(localStorage.getItem("ADDRESS")),this.contactInformationsService.getById(1).subscribe(e=>{this.contactInformation=e.body}),this.monthlyPayment=this.math.trunc(this.mensualPipe.transform(this.totalHT,1))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.e),t.Y36(x.h))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-simulation-info"]],inputs:{cartProducts:"cartProducts",totalHT:"totalHT",client:"client"},features:[t._Bn([x.h])],decls:1,vars:1,consts:[["class","bill-container",4,"ngIf"],[1,"bill-container"],[1,"header"],["fxLayout","column",1,"left-header"],["src","assets/icons/svgs/ekiclik_footer.svg"],[1,"big-title"],["fxLayout","column",1,"right-header"],["src","assets/icons/svgs/Trac\xe9%202275.svg"],["src","assets/icons/svgs/Trac\xe9%202273.svg"],["src","assets/icons/svgs/language.svg"],["src","assets/icons/svgs/Trac\xe9%2026(2).svg"],[1,"client-deets"],[1,"products-table"],[1,"tab"],[1,"table-header"],[1,"header-tab-first"],[1,"table-rows"],[1,"month"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"bill-footer"],[1,"ek-img"],[1,"texty"]],template:function(e,n){1&e&&t.YNc(0,re,91,34,"div",0),2&e&&t.Q6J("ngIf",n.duration)},dependencies:[d.O5,d.RF,d.n9,g.xw,d.JJ,x.h],styles:[".bill-container[_ngcontent-%COMP%]{-webkit-print-color-adjust:exact!important;print-color-adjust:exact;display:flex;flex-direction:column;align-items:center;gap:2em;width:900px;margin-left:auto;margin-right:auto;background-color:#fff;font-family:Cera Pro!important}.bill-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%}.bill-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Cera Pro;font-style:normal;font-weight:400;font-size:16px;line-height:3em;color:#14151a}.bill-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .big-title[_ngcontent-%COMP%]{font-family:Cera Pro;font-style:normal;font-weight:700;font-size:20px;line-height:20px;color:#191d34;margin-bottom:.3em}.bill-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10em;height:7em}.bill-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left-header[_ngcontent-%COMP%]   .order-code[_ngcontent-%COMP%]{color:#94c221}.bill-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:left}.bill-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .right-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:right}.bill-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .right-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.5em;height:1.5em;margin-left:.5em}.bill-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:2px solid #F5F6F8;width:100%}.bill-container[_ngcontent-%COMP%]   .client-deets[_ngcontent-%COMP%]{width:100%;margin-bottom:1.5em}.bill-container[_ngcontent-%COMP%]   .client-deets[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;text-align:left;font-style:normal;font-size:14px;color:#14151a}.bill-container[_ngcontent-%COMP%]   .client-deets[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5em;width:27%}.bill-container[_ngcontent-%COMP%]   .client-deets[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .bill-container[_ngcontent-%COMP%]   .client-deets[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){font-weight:600}.bill-container[_ngcontent-%COMP%]   .products-table[_ngcontent-%COMP%]{width:100%}.bill-container[_ngcontent-%COMP%]   .products-table[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;font-family:Cera Pro}.bill-container[_ngcontent-%COMP%]   .products-table[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1em;height:2em}.bill-container[_ngcontent-%COMP%]   .products-table[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{background:var(--eki-dark-cyprus)!important;color:var(--ek-white-6);height:2em;line-height:3em;font-size:16px;font-weight:700}.bill-container[_ngcontent-%COMP%]   .products-table[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-tab-first[_ngcontent-%COMP%]{text-align:left;padding-left:2em}.bill-container[_ngcontent-%COMP%]   .products-table[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .table-rows[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:13px;color:var(--ek-shade-sh-light-01);text-align:left}.bill-container[_ngcontent-%COMP%]   .products-table[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .table-rows[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:2em}.bill-container[_ngcontent-%COMP%]   .products-table[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--ek-shade-sh-light-10)}.bill-container[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:flex-end;gap:1em}.bill-container[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{float:right;width:50%}.bill-container[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:15px;text-align:right;color:var(--ek-shade-sh-light-02);padding:.3em}.bill-container[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .bold-tit[_ngcontent-%COMP%]{font-family:Cera Pro;font-style:normal;font-weight:700;font-size:14px;line-height:15px;text-align:right;color:var(--ek-shade-sh-light-01)}.bill-container[_ngcontent-%COMP%]   .bill-footer[_ngcontent-%COMP%]{position:fixed;bottom:0;height:8em;width:100%;display:flex;flex-direction:row;align-items:flex-start;gap:2em}.bill-container[_ngcontent-%COMP%]   .bill-footer[_ngcontent-%COMP%]   .ek-img[_ngcontent-%COMP%]{width:10em;height:7em}.bill-container[_ngcontent-%COMP%]   .bill-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Cera Pro;font-style:normal;font-weight:400;font-size:12px;color:var(--ek-shade-sh-light-01)}@supports (-moz-appearance: meterbar){.container-bill[_ngcontent-%COMP%]{-webkit-print-color-adjust:exact;print-color-adjust:exact}}@media print{.container-bill[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;size:auto}}"]}),i})();function ce(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"tr")(2,"div",26),t._uU(3),t.qZA()(),t._UZ(4,"tr"),t.BQk()),2&i){const e=t.oxw();t.xp6(3),t.hij(" ",e.deliveryAddress.adr.addressLine1+", "+e.deliveryAddress.adr.ville+", "+e.deliveryAddress.adr.wilaya.toString().split("_").join("\n")," ")}}function le(i,a){if(1&i&&(t.TgZ(0,"tr")(1,"td",27),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",28),t._uU(6),t.qZA(),t.TgZ(7,"div")(8,"div")(9,"td"),t._uU(10),t.ALo(11,"number"),t.ALo(12,"mensual"),t.qZA()()()()),2&i){const e=a.$implicit,n=a.index,o=t.oxw();t.xp6(1),t.Q6J("fxHide.xs",!0)("fxHide.sm",!0),t.xp6(1),t.hij("Article ",n+1," ( Facilit\xe9 ) : "),t.xp6(2),t.Oqu(e.configuration.productName),t.xp6(2),t.hij(" x ",e.quantity,""),t.xp6(4),t.hij(" ",t.xi3(11,6,t.xi3(12,9,e.configuration.price,o.paymentType),"1.2-2")," DZD / Mois ")}}function de(i,a){1&i&&(t.TgZ(0,"div",29)(1,"span"),t._uU(2,"Une erreur s'est produite lors du paiement par carte CIB / Edahabia, veuillez v\xe9rifier les informations de votre carte."),t.qZA()())}function pe(i,a){1&i&&(t.ynx(0),t.TgZ(1,"div",30)(2,"div",31),t._UZ(3,"img",32),t.qZA(),t.TgZ(4,"div",33)(5,"span",34),t._uU(6," En utilisant votre carte CIB / Edahabia votre commande sera pay\xe9 instantan\xe9ment en toutes s\xe9curit\xe9, la livraison de votre commande sera lanc\xe9 apr\xe8s la confirmation du paiement. En cas de probl\xe8me avec votre carte CIB ou Edahabia, appeler le num\xe9ro vert de la SATIM "),t.qZA(),t.TgZ(7,"div",35),t._UZ(8,"img",36)(9,"img",37),t.qZA()()(),t.BQk())}const tt=function(i){return{"hovered-btn":i}};let ge=(()=>{class i{constructor(e,n,o){this.breakPointObserver=e,this.orderService=n,this.mensualPipe=o,this.cartProducts=[],this.goToNstep=new t.vpe,this.payMode=new t.vpe,this.totalHT=0,this.folderFees=0,this.itemsExpanded=!0,this.clientSalary=0,this.clientDate="",this.paymentType=1,this.math=Math,this.duration=1,this.isExporting=!1,this.eldahabiaError=!1}ngOnInit(){this.choosenPayMode="",this.actualDate=new Date,this.breakPointObserver.observe(A.u3.Handset).subscribe(e=>{this.itemsExpanded=!e.matches}),this.clientDate=window.localStorage.getItem("clientDate"),this.clientSalary=Number(window.localStorage.getItem("clientSalary")),this.paymentType=Number(window.localStorage.getItem("paymentType")),this.duration=Number(window.localStorage.getItem("paymentType"))}goToStep(e){this.goToNstep.emit(e)}onPayModeChange(e){this.choosenPayMode=e.value.toString(),this.payMode.emit(this.choosenPayMode)}printComponent(){this.duration=Number(window.localStorage.getItem("paymentType")),this.isExporting=!0;let e=this.duration;if(this.client){let n=this.math.abs(this.mensualPipe.transform(this.totalHT,this.duration)),o=e-1,s=this.math.abs(this.mensualPipe.transform(this.totalHT,this.duration)*o);this.orderService.downloadSimulationPdf(this.client.id,this.deliveryAddress.pointId,this.totalHT,n,e,s,s-this.totalHT,this.deliveryAddress.adr.phone).subscribe(u=>{if("success"==u.message&&u.body){const c=atob(u.body),m=new Array(c.length);for(let w=0;w<c.length;w++)m[w]=c.charCodeAt(w);const y=new Uint8Array(m),b=window.navigator;let U=new Blob([y],{type:"application / vnd.openxmlformats-officedocument.spreadsheetml.sheet"});if(b&&b.msSaveOrOpenBlob)return void b.msSaveOrOpenBlob(U);const D=window.URL.createObjectURL(U),T=document.createElement("a");T.download="simulation"+new d.uU("FR").transform(Date.now(),"yyyy-MM-dd_HH-mm-ss")+".pdf",T.href=D,T.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),this.isExporting=!1,setTimeout(function(){window.URL.revokeObjectURL(D),T.remove()},100)}})}}ngOnDestroy(){this.payMode.emit("")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A.Yg),t.Y36(E.p),t.Y36(x.h))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-cart-step3"]],inputs:{deliveryAddress:"deliveryAddress",cartProducts:"cartProducts",selectedPromoConfigurations:"selectedPromoConfigurations",promotionCode:"promotionCode",totalHT:"totalHT",folderFees:"folderFees",client:"client"},outputs:{goToNstep:"goToNstep",payMode:"payMode"},features:[t._Bn([x.h])],decls:112,vars:38,consts:[[1,"confirmation-section"],[1,"confirmation-section-title"],[1,"confirmation-section-cnt"],["hideToggle","","expanded","itemsExpanded",1,"sec-item",3,"disabled"],[1,"sec-item-header"],["mat-button","",3,"click"],["src","assets/icons/svgs/edit-24px-light.svg","matPrefix",""],[4,"ngIf"],[1,"order-table"],[4,"ngFor","ngForOf"],["hideToggle","","expanded","itemsExpanded",1,"sec-item2",3,"disabled"],[1,"simulation-info"],[3,"click"],["src","assets/icons/svgs/download(1).svg","matSuffix",""],[1,"shipping-cost"],[1,"pay-mode-container"],[1,"buttons-set"],[1,"e-pay-radio-group"],["matTooltip","Paiement a la livraison ","value","CASH_EN_DELIVERY",1,"example-radio-button",3,"ngClass","checked","change"],[1,"hide-span"],["matTooltip","Paiement par CIB/Edahabia ","value","CIB_ELDAHABIA",1,"example-radio-button",3,"ngClass","checked","change"],[2,"display","flex","align-items","center","gap","6px"],["src","assets/icons/svgs/image%206cib-img.svg","matSuffix",""],["class","eldahabia-error",4,"ngIf"],["id","simulation_body",2,"display","none"],[3,"cartProducts","client","totalHT"],[1,"delivery-item"],[3,"fxHide.xs","fxHide.sm"],[2,"width","29px"],[1,"eldahabia-error"],[1,"eldahabia-deets"],[1,"left-part"],["src","assets/icons/svgs/info%20blue.svg","matSuffix","",2,"height","2rem"],[1,"right-part"],[1,"dahabia-description"],[1,"dahabia-logos"],["src","assets/icons/svgs/Rectangle%20490test.png","matSuffix","",2,"height","4rem","margin-right","1rem"],["src","assets/icons/svgs/t\xe9l\xe9chargement%20(1)%201appel%20gratuit.svg","matSuffix","",2,"height","3rem"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"CONFIRMATION"),t.qZA(),t.TgZ(3,"div",2)(4,"mat-expansion-panel",3)(5,"mat-expansion-panel-header")(6,"div",4)(7,"div"),t._uU(8,"MES INFORMATIONS"),t.qZA()()(),t.TgZ(9,"div")(10,"table")(11,"tr")(12,"td"),t._uU(13,"Nom et Pr\xe9nom :"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA()(),t.TgZ(16,"tr")(17,"td"),t._uU(18,"T\xe9l\xe9phone :"),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA()(),t.TgZ(21,"tr")(22,"td"),t._uU(23,"Adresse mail :"),t.qZA(),t.TgZ(24,"td"),t._uU(25),t.qZA()(),t.TgZ(26,"tr")(27,"td"),t._uU(28,"Date de naissance :"),t.qZA(),t.TgZ(29,"td"),t._uU(30),t.ALo(31,"date"),t.qZA()(),t.TgZ(32,"tr")(33,"td"),t._uU(34,"Mon salaire :"),t.qZA(),t.TgZ(35,"td"),t._uU(36),t.ALo(37,"number"),t.qZA()()()()(),t.TgZ(38,"mat-expansion-panel",3)(39,"mat-expansion-panel-header")(40,"div",4)(41,"div"),t._uU(42,"ADRESSE DU POINT DE VENTE"),t.qZA(),t.TgZ(43,"button",5),t.NdJ("click",function(){return n.goToStep(2)}),t._UZ(44,"img",6),t.TgZ(45,"span"),t._uU(46,"\xa0modifier"),t.qZA()()()(),t.TgZ(47,"div")(48,"table"),t.YNc(49,ce,5,1,"ng-container",7),t.qZA()()(),t.TgZ(50,"mat-expansion-panel",3)(51,"mat-expansion-panel-header")(52,"div",4)(53,"div"),t._uU(54,"COMMANDE"),t.qZA()()(),t.TgZ(55,"div")(56,"table",8),t.YNc(57,le,13,12,"tr",9),t.qZA()()(),t.TgZ(58,"mat-expansion-panel",10)(59,"mat-expansion-panel-header")(60,"div",11)(61,"button",12),t.NdJ("click",function(){return n.printComponent()}),t.TgZ(62,"span"),t._uU(63,"Informations de simulation"),t.qZA(),t._UZ(64,"img",13),t.qZA()()()(),t.TgZ(65,"mat-expansion-panel",3)(66,"mat-expansion-panel-header")(67,"div",4)(68,"div"),t._uU(69),t.ALo(70,"uppercase"),t.qZA()()(),t.TgZ(71,"table")(72,"tr")(73,"td"),t._uU(74,"Frais de dossier :"),t.qZA(),t.TgZ(75,"td"),t._uU(76),t.qZA()(),t.TgZ(77,"tr")(78,"td"),t._uU(79,"Frais de ramassage :"),t.qZA(),t.TgZ(80,"td",14),t._uU(81,"Gratuit"),t.qZA()(),t.TgZ(82,"tr")(83,"td"),t._uU(84,"Frais de Livraison :"),t.qZA(),t.TgZ(85,"td",14),t._uU(86,"Gratuit"),t.qZA()(),t.TgZ(87,"tr")(88,"td"),t._uU(89,"Total :"),t.qZA(),t.TgZ(90,"td"),t._uU(91),t.qZA()()(),t.TgZ(92,"div",15)(93,"span"),t._uU(94,"Mode de paiement :"),t.qZA(),t.TgZ(95,"div",16)(96,"mat-radio-group",17)(97,"mat-radio-button",18),t.NdJ("change",function(s){return n.onPayModeChange(s)}),t.TgZ(98,"span")(99,"span",19),t._uU(100," Paiement "),t.qZA(),t._uU(101," a la livraison "),t.qZA()(),t.TgZ(102,"mat-radio-button",20),t.NdJ("change",function(s){return n.onPayModeChange(s)}),t.TgZ(103,"span",21)(104,"span",19),t._uU(105," Paiement par "),t.qZA(),t._uU(106," CIB/Edahabia "),t._UZ(107,"img",22),t.qZA()()()()(),t.YNc(108,de,3,0,"div",23),t.qZA()(),t.YNc(109,pe,10,0,"ng-container",7),t.qZA(),t.TgZ(110,"div",24),t._UZ(111,"app-simulation-info",25),t.qZA()),2&e&&(t.xp6(4),t.Q6J("disabled",n.itemsExpanded),t.xp6(11),t.AsE(" ",n.deliveryAddress.adr.firstname," ",n.deliveryAddress.adr.lastname," "),t.xp6(5),t.Oqu(n.deliveryAddress.adr.phone),t.xp6(5),t.Oqu(n.deliveryAddress.adr.email),t.xp6(5),t.Oqu(t.xi3(31,27,n.clientDate,"dd-MM-yyyy")),t.xp6(6),t.hij("",t.lcZ(37,30,n.clientSalary)," DZD"),t.xp6(2),t.Q6J("disabled",n.itemsExpanded),t.xp6(11),t.Q6J("ngIf","NO_DELIVERY"!==n.deliveryAddress.mode),t.xp6(1),t.Q6J("disabled",n.itemsExpanded),t.xp6(7),t.Q6J("ngForOf",n.cartProducts),t.xp6(1),t.Q6J("disabled",n.itemsExpanded),t.xp6(3),t.ekj("spinner",n.isExporting),t.xp6(4),t.Q6J("disabled",n.itemsExpanded),t.xp6(4),t.hij(" ",t.lcZ(70,32,"Paiement des frais de livraison et de ramassage")," "),t.xp6(7),t.hij(" ",n.folderFees," DZD "),t.xp6(15),t.hij("",n.folderFees," DZD"),t.xp6(6),t.Q6J("ngClass",t.VKq(34,tt,"CASH_EN_DELIVERY"===n.choosenPayMode))("checked","CASH_EN_DELIVERY"===n.choosenPayMode),t.xp6(5),t.Q6J("ngClass",t.VKq(36,tt,"CIB_ELDAHABIA"===n.choosenPayMode))("checked","CIB_ELDAHABIA"===n.choosenPayMode),t.xp6(6),t.Q6J("ngIf","CIB_ELDAHABIA"===n.choosenPayMode&&n.eldahabiaError),t.xp6(1),t.Q6J("ngIf","CIB_ELDAHABIA"===n.choosenPayMode),t.xp6(2),t.Q6J("cartProducts",n.cartProducts)("client",n.client)("totalHT",n.totalHT))},dependencies:[d.mk,d.sg,d.O5,P.b8,P.oO,h.lW,f.qo,f.R9,B.VQ,B.U0,O.ib,O.yz,$.gM,se,d.gd,d.JJ,d.uU,x.h],styles:[".confirmation-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:1rem}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;line-height:1.46;color:var(--text)}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]{box-shadow:0 3px 6px #00314714;background-color:var(--white);padding:24px;box-sizing:border-box;width:100%;border-radius:16px}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]   .sec-item[_ngcontent-%COMP%]{box-shadow:none}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]   .sec-item[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;padding:0;line-height:3em}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]   .sec-item[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:20px}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]   .sec-item[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:30%;font-weight:500;color:var(--text)}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]   .sec-item[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{font-weight:500;color:var(--eki-dark-cyprus)}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]   .sec-item[_ngcontent-%COMP%]   .delivery-item[_ngcontent-%COMP%]{font-weight:500;color:var(--eki-dark-cyprus);font-size:17px}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]   .sec-item[_ngcontent-%COMP%]   table.order-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 0}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]   .sec-item[_ngcontent-%COMP%]   table.order-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;width:14em;color:var(--eki-dark-cyprus)}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]   .sec-item[_ngcontent-%COMP%]   table.order-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:30%;text-align:right}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]   .sec-item2[_ngcontent-%COMP%]{box-shadow:none}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]   .sec-item2[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{float:right}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]   .sec-item2[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .simulation-info[_ngcontent-%COMP%]{cursor:pointer;padding:1em 0}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]   .sec-item2[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .simulation-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:12px 24px;gap:12px;width:auto;left:calc(50% + 152.5px);top:0%;bottom:0%;background:#F5F6F8;border:1px solid #DEE2E9;border-radius:8px}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]   .sec-item2[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .simulation-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Cera Pro;font-style:normal;font-weight:700;font-size:16px;line-height:20px;color:#2f3240}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]   .sec-item-header[_ngcontent-%COMP%]{height:56px;width:100%;display:flex;justify-content:space-between;align-items:center;padding-left:24px;margin-left:10px;border-radius:4px;background-color:var(--ek-shade-sh-light-10)}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]   .sec-item-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:20px;font-weight:700;text-transform:uppercase;color:var(--eki-dark-cyprus)}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]   .sec-item-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:100%;font-size:16px;font-weight:700;text-transform:uppercase;color:var(--ek-brand-blue_base);background-color:var(--text-bg)}.old-price[_ngcontent-%COMP%]{font-size:16px;color:var(--ghost);text-decoration:line-through}.shipping-cost[_ngcontent-%COMP%]{color:var(--success)!important;font-family:Cera Pro;font-size:20px;font-style:normal;font-weight:500;line-height:normal}.e-pay-radio-group[_ngcontent-%COMP%]{display:flex;gap:.5rem}.e-pay-radio-group[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{padding:0 10px;display:flex;gap:24px;border-radius:8px;border:2px solid #DEE2E9;background:#FFF;height:56px;align-items:center;transition:.3s}.e-pay-radio-group[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]:hover{border:2px solid var(--ek-brand-blue-base, #009DCC)}.hovered-btn[_ngcontent-%COMP%]{border:2px solid var(--ek-brand-blue-base)!important}.buttons-set[_ngcontent-%COMP%]{display:flex;justify-content:center}.eldahabia-deets[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-start;padding:16px 24px;border-radius:16px;background:var(--ek-shade-sh-light-10, #F5F6F8);box-shadow:0 3px 6px #00314714;animation:fadeIn .5s}.eldahabia-deets[_ngcontent-%COMP%]   .right-part[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;color:var(--ek-shade-sh-light-06, #6F7692);font-family:Cera Pro;font-size:18px;font-style:normal;font-weight:500;line-height:normal}.pay-mode-container[_ngcontent-%COMP%]{height:5rem;display:flex;justify-content:space-between;align-items:center;font-size:20px;font-weight:500;color:var(--text);flex-wrap:wrap}.pay-mode-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:2.5rem}.dahabia-logos[_ngcontent-%COMP%]{display:flex;align-items:center}.eldahabia-error[_ngcontent-%COMP%]{color:var(--Error-01);font-size:12px;font-style:normal;font-weight:500;line-height:normal;float:right}@media (max-width: 1519px){.sec-item-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:16px!important;background:var(--ek-shade-sh-light-10);border-radius:8px}.sec-item-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px!important}.sec-item[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{line-height:2em!important}.sec-item[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:92px;font-size:16px!important;word-break:break-all}.sec-item[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;width:10em!important;color:var(--eki-dark-cyprus)}.old-price[_ngcontent-%COMP%]{font-size:14px!important}.pay-mode-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.pay-mode-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.5rem}.dahabia-description[_ngcontent-%COMP%]{font-size:16px}.e-pay-radio-group[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{height:46px}.hide-span[_ngcontent-%COMP%]{display:none}}@media (max-width: 599px){.empty-cart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px}.empty-cart[_ngcontent-%COMP%]   .empty-cart-msg[_ngcontent-%COMP%]{font-size:18px}.empty-cart[_ngcontent-%COMP%]   .empty-cart-msg[_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{display:none}mat-select[_ngcontent-%COMP%]{font-size:14px!important}.confirmation-section[_ngcontent-%COMP%]   .confirmation-section-cnt[_ngcontent-%COMP%]{box-shadow:none;background-color:transparent;padding:0}.confirmation-section[_ngcontent-%COMP%]   .sec-item-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.confirmation-section[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 3px 6px #00314714!important;background-color:var(--white);margin-bottom:16px}.confirmation-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;min-width:300px}.confirmation-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] + tr[_ngcontent-%COMP%]{margin-top:12px}.confirmation-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:192px;word-break:break-all;line-height:1.5em}.client-service-msg[_ngcontent-%COMP%]{order:-1}.pay-mode-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.pay-mode-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.5rem}}mat-expansion-panel-header[_ngcontent-%COMP%]{height:70px!important}"]}),i})();const ue=["favoritesBlock"],me=["header"],he=["cmdbtn"],fe=function(){return["/"]};function _e(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",11)(2,"button",12),t._UZ(3,"img",13),t._uU(4," Retour \xe0 l'accueil "),t.qZA()(),t._UZ(5,"app-cart-step1",14),t.BQk()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("routerLink",t.DdM(5,fe)),t.xp6(3),t.Q6J("cartProducts",e.cartProducts)("favorites",e.favorites)("priceDelivery",e.priceDelivery)("client",e.client)}}function Ce(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.goToStep(1))}),t._UZ(3,"img",16),t._uU(4," Modifier mon panier "),t.qZA()(),t._UZ(5,"app-cart-step2",17),t.BQk()}if(2&i){const e=t.oxw();t.xp6(2),t.ekj("spinner",e.loadingModifierPanier),t.xp6(3),t.Q6J("cartProducts",e.cartProducts)("favorites",e.favorites)("initDeliveryMode",e.initDeliveryMode)("isPhysical",e.isPhysical)("client",e.client)}}function xe(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.goToStep(2))}),t._UZ(3,"img",16),t._uU(4," Modifier le mode de livraison "),t.qZA()(),t.TgZ(5,"app-cart-step3",18),t.NdJ("payMode",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.setPayMode(o))})("goToNstep",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.goToStep(o))}),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(5),t.Q6J("deliveryAddress",e.deliveryAddress)("cartProducts",e.cartProducts)("totalHT",e.totalHT)("client",e.client)("folderFees",e.folderFees)}}function ve(i,a){if(1&i&&(t.TgZ(0,"span",48),t._uU(1),t.ALo(2,"number"),t.ALo(3,"mensual"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("",t.xi3(2,1,e.math.abs(t.xi3(3,4,e.totalHT,e.paymentType)),"1.2-2")," DZD / Mois")}}function Pe(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("Max : ",t.xi3(2,1,e.cartCapacity<e.max?e.cartCapacity:e.max,"1.2-2")," DZD ")}}function Oe(i,a){1&i&&t._UZ(0,"mat-spinner",51),2&i&&t.Q6J("diameter",25)}function Me(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onCheckout())}),t.ALo(2,"async"),t._uU(3," Commander "),t.YNc(4,Oe,1,1,"mat-spinner",50),t.ALo(5,"async"),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(2);let n;t.xp6(1),t.ekj("spinner",e.loadingAddCommande),t.Q6J("disabled",null!==(n=t.lcZ(2,4,e.isCalculating$))&&void 0!==n&&n),t.xp6(3),t.Q6J("ngIf",t.lcZ(5,6,e.isCalculating$))}}function ye(i,a){1&i&&t._UZ(0,"mat-spinner",51),2&i&&t.Q6J("diameter",25)}const et=function(i,a){return{"btn-disabled":i,"loading-active":a}};function be(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",53)(2,"form",null,54)(4,"re-captcha",55,56),t.NdJ("resolved",function(o){t.CHM(e);const s=t.oxw(3);return t.KtG(s.checkCaptcha(o))})("ngModelChange",function(o){t.CHM(e);const s=t.oxw(3);return t.KtG(s.token=o)}),t.qZA()()(),t.TgZ(6,"div",57)(7,"mat-checkbox",58,59),t.NdJ("change",function(o){t.CHM(e);const s=t.oxw(3);return t.KtG(s.toggle(o))}),t._uU(9," En cochant cette case vous acceptez "),t.TgZ(10,"a",60),t._uU(11," les conditions g\xe9n\xe9rale d'utilisation "),t.qZA()()(),t.TgZ(12,"button",61),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.onCheckout())}),t._uU(13," Valider "),t.YNc(14,ye,1,1,"mat-spinner",50),t.qZA(),t.BQk()}if(2&i){const e=t.MAs(5),n=t.oxw(3);t.xp6(4),t.ekj("is-invalid",e.invalid&&(e.dirty||e.touched)),t.Q6J("ngModel",n.token),t.xp6(8),t.ekj("spinner",n.loadingNewOrder),t.Q6J("disabled",n.loadingNewOrder||!n.selectedPayMode||"CIB_ELDAHABIA"===n.selectedPayMode&&(!n.captchaResolved||!1===n.genConditionChecked))("ngClass",t.WLB(8,et,n.loadingNewOrder||!n.selectedPayMode||"CIB_ELDAHABIA"===n.selectedPayMode&&(!n.captchaResolved||!1===n.genConditionChecked),n.loadingNewOrder)),t.xp6(2),t.Q6J("ngIf",n.loadingNewOrder)}}function Ae(i,a){1&i&&t._UZ(0,"mat-spinner",51),2&i&&t.Q6J("diameter",25)}function Te(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",62),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.onCheckout())}),t._uU(1," Valider "),t.YNc(2,Ae,1,1,"mat-spinner",50),t.qZA()}if(2&i){const e=t.oxw(3);t.ekj("spinner",e.loadingNewOrder),t.Q6J("disabled",e.loadingNewOrder||!e.selectedPayMode)("ngClass",t.WLB(5,et,e.loadingNewOrder||!e.selectedPayMode,e.loadingNewOrder)),t.xp6(2),t.Q6J("ngIf",e.loadingNewOrder)}}function we(i,a){if(1&i&&(t.YNc(0,be,15,11,"ng-container",46),t.YNc(1,Te,3,8,"ng-template",null,52,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw(2);t.Q6J("ngIf","CIB_ELDAHABIA"===n.selectedPayMode)("ngIfElse",e)}}function Ze(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20,21),t._uU(3,"TOTAUX"),t.qZA(),t.TgZ(4,"div",22)(5,"div",23)(6,"div",24)(7,"div",25)(8,"h4",26),t._uU(9,"Informations de simulation "),t.TgZ(10,"button",27),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openClientDialog())}),t._UZ(11,"img",28),t.qZA()()(),t.TgZ(12,"span"),t._uU(13,"Date de naissance : "),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"span"),t._uU(16),t.ALo(17,"date"),t.qZA()(),t.TgZ(18,"div",24)(19,"span"),t._uU(20,"Salaire (DZD) :"),t.qZA(),t._UZ(21,"br"),t.TgZ(22,"span"),t._uU(23),t.ALo(24,"number"),t.qZA()()(),t.TgZ(25,"div",23)(26,"div",29)(27,"form",30),t._uU(28,"Paiement sur "),t._UZ(29,"br"),t.TgZ(30,"div",31)(31,"div",32)(32,"ng5-slider",33),t.NdJ("valueChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.paymentType=o)})("valueChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.updateFilteredNumber(o))})("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.updateCart(o.paymentType))}),t.qZA(),t.TgZ(33,"div",34)(34,"div",35),t._uU(35,"12"),t.qZA(),t.TgZ(36,"div",35),t._uU(37,"24"),t.qZA(),t.TgZ(38,"div",35),t._uU(39,"36"),t.qZA(),t.TgZ(40,"div",35),t._uU(41,"48"),t.qZA(),t.TgZ(42,"div",35),t._uU(43,"60"),t.qZA()()(),t.TgZ(44,"div",36)(45,"p",37),t._uU(46),t.TgZ(47,"span",38),t._uU(48,"Mois"),t.qZA()()()()()(),t.TgZ(49,"div",39),t._uU(50,"Frais de livraison"),t._UZ(51,"br"),t.TgZ(52,"span"),t._uU(53," Gratuit "),t.qZA()(),t.TgZ(54,"div",39),t._uU(55,"Total de vos achats (montant de financement)"),t._UZ(56,"br"),t.TgZ(57,"div",40)(58,"span"),t._uU(59),t.ALo(60,"number"),t.qZA(),t.YNc(61,ve,4,7,"span",41),t.qZA()()(),t.TgZ(62,"div",42)(63,"div",43),t._UZ(64,"img",44),t.TgZ(65,"div",45)(66,"span"),t._uU(67,"La limite du panier :"),t.qZA(),t.TgZ(68,"span"),t._uU(69),t.ALo(70,"number"),t.qZA(),t.YNc(71,Pe,3,4,"span",6),t.qZA()()()(),t.YNc(72,Me,6,8,"ng-container",46),t.YNc(73,we,3,2,"ng-template",null,47,t.W1O),t.qZA()}if(2&i){const e=t.MAs(74),n=t.oxw();t.xp6(16),t.Oqu(t.xi3(17,12,n.clientDate,"dd-MM-yyyy")),t.xp6(7),t.hij("",t.lcZ(24,15,n.clientSalary)," DZD "),t.xp6(4),t.Q6J("formGroup",n.myForm),t.xp6(5),t.Q6J("value",n.paymentType)("options",n.options),t.xp6(14),t.hij(" ",n.paymentType," "),t.xp6(13),t.hij(" ",t.xi3(60,17,n.totalHT,"1.2-2")," DZD "),t.xp6(2),t.Q6J("ngIf",n.paymentType),t.xp6(8),t.hij("Min : ",t.xi3(70,20,n.min,"1.2-2")," DZD"),t.xp6(2),t.Q6J("ngIf",n.paymentType),t.xp6(1),t.Q6J("ngIf",1===n.step||2===n.step)("ngIfElse",e)}}function ke(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",63)(1,"app-button-checkout",64),t.NdJ("onCheckout",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onCheckout())}),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("payementMode",e.selectedPayMode)("loadingNewOrder",e.loadingNewOrder)("disableButton",e.loadingNewOrder||!e.captchaResolved||!1===e.genConditionChecked)("step",e.step)}}var M=(()=>{return(i=M||(M={})).HTF="HigherThanFinance",i.LTF="LowerThanFinance",i.HTC="HigherThanCapacity",i.LTC="LowerThanCapacity",i.HTM="HigherThanMensuality",M;var i})();let nt=(()=>{class i{constructor(e,n,o,s,p,u,c,m,y,b,U,D,T,w,Re){this.cartService=e,this.productService=n,this.accountService=o,this.cartOfflineService=s,this.breakPointObserver=p,this.ekSnackBarService=u,this.orderService=c,this.router=m,this.dialog=y,this.fb=b,this.googleTagManagerService=U,this.route=D,this.mensualPipe=T,this.datePipe=w,this.cartSplitOfflineService=Re,this.isDiscountClient=!1,this.showFixedHeader=!1,this.discountClient=0,this.paymentType=64,this.cartProducts=[],this.totalHT=0,this.totalTTC=0,this.loadingAddCommande=!1,this.loadingModifierPanier=!1,this.captchaResolved=!1,this._myData$=new Ot.X(null),this.favorites=[],this.step=1,this.client=null,this.priceDelivery=0,this.orderContainsDiscount=!1,this.physicalProducts=[],this.isPhysical=!1,this.initDeliveryMode=!1,this.itemsExpanded=!0,this.test=4,this.loadingNewOrder=!1,this.promoCodesExist=!1,this.math=Math,this.clientInfos=null,this.isShown="true",this.clientDate="",this.clientSalary="",this.min=5e4,this.max=1e6,this.folderFees=2e3,this.cartCapacity=0,this.outOfStock=!1,this.PHONE_REGEX=/^(00213|\+213|0)(5|6|7|9)(\s*?[0-9]\s*?){5,8}$/,this.color="accent",this.isLimited=!1,this.paymentErrorMessage="",this.numberOfMonths=60,this.options={floor:12,ceil:60,showSelectionBar:!0},this.genConditionChecked=!1,this.selectedPayMode="",this.token=void 0,this.myForm=this.fb.group({options:[null]}),this.isCalculating$=this.cartService.isCalculating$.asObservable()}ngOnInit(){const e=JSON.parse(String(localStorage.getItem("ADDRESS")));this.isShown=window.localStorage.getItem("isShown"),e?this.getLocalAddress():this.cartService.deliveryAddress$.subscribe(o=>{this.deliveryAddress=o,null!=this.deliveryAddress.price&&(this.priceDelivery=parseInt(this.deliveryAddress.price)),this.updateTotal()}),this.actualDate=new Date,this.clientDate=window.localStorage.getItem("clientDate");const n=this.datePipe.transform(this.clientDate,"yyyy-MM-dd");this.clientSalary=window.localStorage.getItem("clientSalary"),this.paymentType=Number(window.localStorage.getItem("paymentType")),this.myForm.get("options")?.setValue(this.paymentType),this.accountService.accountSubject.subscribe(o=>{if(this.client=o,o){const s=JSON.parse(String(localStorage.getItem("carts")))?.idCart;s&&s>0&&this.cartSplitOfflineService.createCartSplitOnline(s,this.client.id).subscribe(p=>{}),this.addLocalProductCartItems(),this.getCartOnLine()}else if(this.getCartOffLine(),this.clientDate&&this.clientSalary){const s=this.cartProducts.map(u=>({configurationId:u.configurationId,quantity:u.quantity}));this.cartSplitOfflineService.createCartSplitOffline({clientId:null,salary:this.clientSalary,birthDate:n,configurations:s}).subscribe({next:u=>{localStorage.setItem("carts",JSON.stringify({idCart:u.body.id,CartProduct:this.cartProducts}))},error:u=>{}})}}),this.isDiscountExistInOrder(),"false"!=this.isShown&&this.cartProducts.length>0&&this.openClientDialog(),this.breakPointObserver.observe(A.u3.Handset).subscribe(o=>{this.itemsExpanded=!o.matches}),"favorites"===this.route.snapshot.routeConfig?.path?setTimeout(()=>{this.favoritesBLock.nativeElement.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})},500):this.goToTopPage(),this.route.queryParams.subscribe(o=>{this.step=o.step?Number(o.step):1}),setTimeout(()=>{this.cartService.cart.subscribe(o=>{o.length||this.router.navigate([],{relativeTo:this.route,queryParams:{step:this.step},queryParamsHandling:"merge"})})},100),this.paymentType&&this.cartProducts.map(o=>{o.paymentType=this.paymentType,this.cartOfflineService.updatCarts(o)}),this.calcCartCapacity()}setPayMode(e){console.log("setPayMode",e),this.selectedPayMode=e}send(e){if(e.invalid)for(const n of Object.keys(e.controls))e.controls[n].markAsTouched()}openClientDialog(e,n,o){this.dialog.open(Dt,{width:"auto",height:"auto",disableClose:"false"!=this.isShown,data:{date:this.clientDate,salary:this.clientSalary,isLimited:e,errorCode:n,isShown:this.isShown,paymentType:this.paymentType,capacity:o}}).afterClosed().subscribe(p=>{if(p&&(this.clientInfos=p,this.paymentType=p.paymentType,this.isShown="false",localStorage.setItem("paymentType",p.paymentType),this.myForm.get("options")?.setValue(p.paymentType),localStorage.setItem("clientDate",p.date),localStorage.setItem("clientSalary",p.salary),localStorage.setItem("isShown",String(!1)),this.clientDate=window.localStorage.getItem("clientDate"),this.clientSalary=window.localStorage.getItem("clientSalary"),this.calcCartCapacity(),!this.client)){const u=this.cartProducts.map(m=>({configurationId:m.configurationId,quantity:m.quantity}));this.cartSplitOfflineService.createCartSplitOffline({clientId:null,salary:p.salary,birthDate:p.date,configurations:u}).subscribe({next:m=>{localStorage.setItem("carts",JSON.stringify({idCart:m.body.id,CartProduct:this.cartProducts}))},error:m=>{}})}})}getCartOnLine(){this.cartProducts=[],this.cartService.cart.subscribe(e=>{e.map(n=>{this.productService.getById(n.configuration.productId).subscribe(o=>(n.configuration.productName=o.body.name,this.updateTotal(),n))}),this.cartProducts=e,this.initDeliveryMode=!0,this.isContainPhysicalProduct()})}getCartOffLine(){this.cartOfflineService.cart.subscribe(e=>{e?.CartProduct&&(e?.CartProduct.map(n=>{this.productService.getById(n.configuration.productId).subscribe(o=>(n.configuration.productName=o.body.name,n))}),this.cartProducts=e?.CartProduct,this.totalHT=0,this.totalTTC=0,this.cartProducts.forEach(n=>{this.totalTTC=n.configuration.discount&&new Date>=new Date(n.configuration.discount.startingDate)&&new Date<=new Date(n.configuration.discount.endingDate)?this.totalTTC+n.quantity*(n.configuration.price/100*100)*(1-n.configuration.discount.value/100):this.totalTTC+n.quantity*(n.configuration.price/100*100)}),this.totalHT=this.totalTTC,this.totalTTC+=this.priceDelivery,this.isDiscountExistInOrder())})}addLocalProductCartItems(){let e=0;const n=this.cartOfflineService.cartProductOff?.CartProduct?.length;this.cartOfflineService.cartProductOff?.CartProduct?.forEach(o=>{e++,this.cartService.add(o.configuration,o.quantity).subscribe(()=>{this.updateTotal()},s=>{}),e===n&&(localStorage.removeItem("carts"),this.cartOfflineService.removeAll())})}toggle(e){this.genConditionChecked=e.checked}updateTotal(){this.totalHT=0,this.totalTTC=0,this.cartProducts.forEach(e=>{e.configuration.discount&&new Date>=new Date(e.configuration.discount.startingDate)&&new Date<=new Date(e.configuration.discount.endingDate)?this.totalTTC+=e.quantity*(e.configuration.price*(1-e.configuration.discount.value/100)):this.totalTTC=this.totalTTC+e.quantity*e.configuration.price}),this.totalHT=this.totalTTC,this.totalTTC+=this.priceDelivery,this.cartService.isCalculating$.next(!1)}getPaymentTypeValue(){return this.paymentType}onCheckout(){const e=this.getPaymentTypeValue();if(!e||e<12||e>64)return this.paymentErrorMessage="Vous devez choisir une Mensualit\xe9 entre 12 et 64",void this.ekSnackBarService.openSnackBar("Vous devez choisir une Mensualit\xe9 entre 12 et 64","ok","error-snackbar");if(this.clientSalary){for(const n of this.cartProducts){if(this.orderService.getQuanEkByConfigId(n.configuration?.id).subscribe({next:o=>{this.quantityInStock=o},error:o=>{o.includes("stock not found")&&(this.quantityInStock=0)}}),n.quantity>this.quantityInStock){this.outOfStock=!0;break}this.outOfStock=!1}if(this.calcCartCapacity(),this.loadingAddCommande=!0,this.client){this.loadingAddCommande=!0;let p,n=Math.abs(Date.now()-new Date(this.clientDate).getTime()),o=Math.floor(n/864e5/365.25),s=[];switch(this.cartProducts.forEach(u=>{p={id:u.configuration?.id,quantity:u.quantity,stockDepotId:0,stockId:1},s.push(p)}),this.step){case 1:if(this.outOfStock)return void this.ekSnackBarService.openSnackBar("Produit ou quantit\xe9 command\xe9e non disponible, Modifier cette quantit\xe9 ou supprimer ce produit de votre panier pour poursuivre votre commande ","ok","error-snackbar");if(this.totalHT<this.min&&this.totalHT<this.cartCapacity)return this.isLimited=!0,void this.openClientDialog(this.isLimited,M.LTF);if(this.totalHT>this.max&&this.totalHT<this.cartCapacity)return this.isLimited=!0,void this.openClientDialog(this.isLimited,M.HTF);if(this.totalHT>this.max||this.totalHT>this.cartCapacity)return this.isLimited=!0,void this.openClientDialog(this.isLimited,M.HTC,this.cartCapacity);if(this.mensualPipe.transform(this.totalHT,this.paymentType)>.3*+this.clientSalary)return this.isLimited=!0,void this.openClientDialog(this.isLimited,M.HTM,.3*+this.clientSalary);this.getCartOnLine(),this.cartProducts.length&&this.goToStep(2);break;case 2:if(this.getLocalAddress(),this.loadingAddCommande=!0,this.deliveryAddress.mode){let c;if(this.loadingAddCommande=!0,this.deliveryAddress.adr){if(this.loadingAddCommande=!0,this.deliveryAddress.adr.phone&&this.PHONE_REGEX.test(this.deliveryAddress.adr.phone)){this.loadingAddCommande=!0,this.goToStep(3);break}this.loadingAddCommande=!0,c="Vous devez saisir un num\xe9ro de t\xe9l\xe9phone valide!",this.ekSnackBarService.openSnackBar(c,"ok","error-snackbar"),this.loadingAddCommande=!1;break}switch(this.loadingAddCommande=!0,this.deliveryAddress.mode){case"POINT_DE_RELAIT":c="Vous devez saisir un point de vente et un num\xe9ro de t\xe9l\xe9phone",this.loadingAddCommande=!1,this.ekSnackBarService.openSnackBar(c,"ok","error-snackbar");break;case"DOMICILE":c="Vous devez choisir une adresse de livraison",this.ekSnackBarService.openSnackBar(c,"ok","error-snackbar"),this.loadingAddCommande=!1;break;case"NO_DELIVERY":case"RECUPERATION_AU_NIVEAU_DU_MAGASIN":c="Vous devez saisir un num\xe9ro de t\xe9l\xe9phone",this.ekSnackBarService.openSnackBar(c,"ok","error-snackbar"),this.loadingAddCommande=!1}break}this.loadingAddCommande=!0,this.ekSnackBarService.openSnackBar("Vous devez saisir un num\xe9ro de t\xe9l\xe9phone et un point de vente!","ok","error-snackbar"),this.loadingAddCommande=!1;break;case 3:this.loadingNewOrder=!0,this.loadingAddCommande=!0;const u=this.datePipe.transform(this.clientDate,"dd-MM-yyyy");this.orderService.placeOrder(this.client.id,this.deliveryAddress.pointId,this.deliveryAddress.adr.phone,this.deliveryAddress.adr.email,null,Number(this.clientSalary),o,s,this.paymentType,u,this.selectedPayMode,2e5).subscribe({next:c=>{this.loadingAddCommande=!0,this.loadingNewOrder=!1,this.googleTagManagerService.pushEvent({event:"purchase",client:this.client,itemsNbr:this.cartProducts.length,items:this.cartProducts,DeliveryMode:this.deliveryAddress.mode,DeliveryAddress:this.deliveryAddress.adr,shippingCost:this.deliveryAddress.price,currency:"DZD",paymentMethod:"CASH",totalTTC:this.totalTTC,totalHT:this.totalHT}),this.loadingAddCommande=!0,this.cartService._cartSubject.next([]),setTimeout(()=>{if("CIB_ELDAHABIA"===this.selectedPayMode)if(c[0].errorCode)switch(c[0].errorCode){case"0":c[0].formUrl&&c[0].orderId&&window.open(c[0].formUrl,"_self");break;case"1":this.loadingAddCommande=!0,this.ekSnackBarService.openSnackBar("Une erreur est survenue dans le payment, essayer \xe0 nouveau ! ","ok","error-snackbar"),this.openDialog(c[0]),this.router.navigateByUrl("/account/orders/"+c[0].id+"/"+c[0].folderId);break;default:this.loadingAddCommande=!0,this.ekSnackBarService.openSnackBar("Une erreur est survenue dans le payment par eldahabia !","ok","error-snackbar"),this.openDialog(c[0]),this.router.navigateByUrl("/account/orders/"+c[0].id+"/"+c[0].folderId),this.loadingNewOrder=!1}else this.loadingAddCommande=!0,this.ekSnackBarService.openSnackBar("Une erreur est survenue dans le payment !","ok","error-snackbar"),this.loadingNewOrder=!1;else this.openDialog(c[0]),this.router.navigateByUrl("/account/orders/"+c[0].id+"/"+c[0].folderId)},1e3)},error:()=>{this.loadingAddCommande=!0,this.cartService._cartSubject.next([]),this.ekSnackBarService.openSnackBar("Une erreur est survenue !","ok","error-snackbar"),this.loadingNewOrder=!1}})}}else localStorage.setItem("loginFromCart",JSON.stringify(!0)),this.router.navigate(["/session/register"],{queryParams:{returnUrl:"/cart"}})}else this.openClientDialog()}goToTopPage(){setTimeout(()=>{this.header.nativeElement.scrollIntoView({behavior:"auto",block:"end",inline:"start"})},300)}goToStep(e){this.loadingAddCommande=!1,this.step=e,this.router.navigate([],{queryParams:{step:e}})}formatDate(e){const n=new Date(e);return this.datePipe.transform(n,"yyyy-MM-dd'T'HH:mm:ss.SSSZ")}openDialog(e){e&&this.dialog.open(Pt,{width:"430px",panelClass:"custom-dialog",data:{email:this.client.email,order:e,phoneNumber:e.phone}})}onScrollEvent(){let e=0;try{e=this.cmdBtn.nativeElement.getBoundingClientRect().top}catch{}this.showFixedHeader=e<0,event.stopPropagation()}sendPromoCode(e){this.orderContainsDiscount||this.updateTotal()}isDiscountExistInOrder(){this.cartProducts.forEach(e=>{this.orderContainsDiscount=!(!e.configuration.discount||!this.isDiscountValid(e.configuration.discount))})}isDiscountValid(e){return!!(e&&new Date>=new Date(e.startingDate)&&new Date<=new Date(e.endingDate))}isContainPhysicalProduct(){this.physicalProducts=this.cartProducts.filter(e=>"PHYSICAL"==e.configuration.type),this.isPhysical=this.physicalProducts.length>0}getLocalAddress(){this.cartService.localDeliveryAddress$.subscribe(e=>{let n=JSON.parse(localStorage.getItem("ADDRESS"));n&&(this.deliveryAddress=n,this.priceDelivery=parseInt(this.deliveryAddress.price))})}ngOnDestroy(){this._myData$.next(null),localStorage.removeItem("deliveryAdrId"),this.router.url.includes("/cart")||localStorage.removeItem("promoCode")}radioChange(e){this.paymentType=e,localStorage.setItem("paymentType",String(this.paymentType)),this.getPaymentTypeValue(),this.calcCartCapacity()}updateCart(e){this.client||this.cartProducts.map(n=>{n.paymentType=e,this.cartOfflineService.updatCarts(n)})}updateFilteredNumber(e){this.paymentType=e,localStorage.setItem("paymentType",String(this.paymentType)),this.calcCartCapacity()}calcCartCapacity(){const e=.3*Number(this.clientSalary)*this.paymentType;this.cartCapacity=e<this.max?e:this.max}checkCaptcha(e){this.captchaResolved=!!(e&&e.length>0)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(L.N),t.Y36(Lt.M),t.Y36(I.B),t.Y36(j.J),t.Y36(A.Yg),t.Y36(qt.W),t.Y36(E.p),t.Y36(C.F0),t.Y36(_.uw),t.Y36(l.qu),t.Y36(zt.k),t.Y36(C.gz),t.Y36(x.h),t.Y36(d.uU),t.Y36(Ht.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-cart"]],viewQuery:function(e,n){if(1&e&&(t.Gf(ue,5),t.Gf(me,7),t.Gf(he,5),t.Gf(Y,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.favoritesBLock=o.first),t.iGM(o=t.CRH())&&(n.header=o.first),t.iGM(o=t.CRH())&&(n.cmdBtn=o.first),t.iGM(o=t.CRH())&&(n.deliveryComponent=o.first)}},hostBindings:function(e,n){1&e&&t.NdJ("scroll",function(){return n.onScrollEvent()},!1,t.Jf7)},features:[t._Bn([x.h,d.uU])],decls:14,vars:6,consts:[[1,"cart-page-header"],["header",""],[3,"step"],[1,"container",2,"margin-bottom","15%"],["fxLayout","row wrap","fxLayout.sm","column wrap","fxLayoutAlign","space-between",1,"main-content"],["fxFlex.lg","71","fxFlex.xl","71","fxFlex.md","71","fxFlex.sm","100","fxFlex.xs","100",1,"cart-product"],[4,"ngIf"],["fxLayout","column","fxFlex.lg","27","fxFlex.xl","27","fxFlex.md","27","fxFlex.sm","100","fxFlex.xs","100",1,"cart-resume"],["class","","fxLayout","column",4,"ngIf"],[1,"service-card-cnt"],["fxHide","true","fxHide.sm","false","fxHide.xs","false",4,"ngIf"],[1,"back-btn"],["mat-stroked-button","",1,"go-home-btn",3,"routerLink"],["src","assets/icons/svgs/chevron_left-Light-24px.svg"],[3,"cartProducts","favorites","priceDelivery","client"],["mat-button","",1,"go-home-btn",3,"click"],["src","assets/icons/svgs/chevron_left-24px.svg"],[3,"cartProducts","favorites","initDeliveryMode","isPhysical","client"],[3,"deliveryAddress","cartProducts","totalHT","client","folderFees","payMode","goToNstep"],["fxLayout","column",1,""],[1,"cart-resume-section-title"],["cmdbtn",""],[1,"cart-container"],[1,"cart-resume-section-cnt"],[1,"cart-item"],[1,"simulation"],[1,"title"],[1,"edit",3,"click"],["src","assets/icons/svgs/edit-24px-light.svg"],[1,"facilite-options"],[1,"cart-resume-section-cnt-item",3,"formGroup"],[2,"display","flex","flex-direction","row"],[2,"display","flex","flex-direction","column"],["formControlName","options",3,"value","options","valueChange","click"],[2,"display","flex","flex-direction","row","justify-content","space-between"],[1,"monthsNumber"],[1,"selectedMonth"],[1,"selectedText"],["matSuffix","",2,"font-size","18px"],[1,"cart-resume-section-cnt-item"],[1,"pricing"],["class","month",4,"ngIf"],[1,"cart-resume-section-cnt",2,"margin-top","12px"],[1,"warning"],["src","assets/icons/svgs/info.svg","alt","",2,"width","20px","height","20px"],[1,"limit-price"],[4,"ngIf","ngIfElse"],["StepThree",""],[1,"month"],["mat-button","","fxHide.sm","true","fxHide.xs","true",1,"btn-checkout",3,"disabled","click"],["class","spinner-layout",3,"diameter",4,"ngIf"],[1,"spinner-layout",3,"diameter"],["otherPayMethodes",""],[1,"recaptcha2-ctn"],["form","ngForm"],["id","recaptcha","name","recaptcha","required","",3,"ngModel","resolved","ngModelChange"],["recaptcha","ngModel"],[1,"use-conditions-ctn"],[3,"change"],["genCon",""],["target","_blank","href","/useful-links?type=GENERAL_CONDITIONS",1,"gen-conditions"],["mat-raised-button","","fxHide.sm","true","fxHide.xs","true",1,"btn-checkout",3,"disabled","ngClass","click"],["mat-button","","fxHide.sm","true","fxHide.xs","true",1,"btn-checkout",3,"disabled","ngClass","click"],["fxHide","true","fxHide.sm","false","fxHide.xs","false"],[3,"payementMode","loadingNewOrder","disableButton","step","onCheckout"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0,1),t._UZ(2,"app-stepper",2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5),t.YNc(6,_e,6,6,"ng-container",6),t.YNc(7,Ce,6,7,"ng-container",6),t.YNc(8,xe,6,5,"ng-container",6),t.qZA(),t.TgZ(9,"div",7),t.YNc(10,Ze,75,23,"div",8),t.TgZ(11,"div",9),t._UZ(12,"app-client-service-card"),t.qZA()()()(),t.YNc(13,ke,2,4,"div",10)),2&e&&(t.xp6(2),t.Q6J("step",n.step),t.xp6(4),t.Q6J("ngIf",1===n.step),t.xp6(1),t.Q6J("ngIf",2===n.step),t.xp6(1),t.Q6J("ngIf",3===n.step),t.xp6(2),t.Q6J("ngIf",n.cartProducts.length),t.xp6(3),t.Q6J("ngIf",n.cartProducts.length))},dependencies:[d.mk,d.O5,C.rH,g.xw,g.Wh,g.yH,P.b8,P.oO,h.lW,l._Y,l.JJ,l.JL,l.Q7,l.On,l.F,l.sg,l.u,f.R9,G.Ou,V.wT,K.oG,Bt.C,H.w5,Rt,Yt,X,Kt,ge,d.Ov,d.JJ,d.uU,x.h],styles:[".cart-page-header[_ngcontent-%COMP%]{margin-top:-133px;height:140px;position:sticky;box-shadow:0 2px 6px #02338229;background-color:var(--white);z-index:2!important}input[type=radio][_ngcontent-%COMP%]:checked{background-color:#93e026}.edit[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer}.go-home-btn[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:16px;font-weight:500;color:var(--ek-brand-cyprus_base);border-radius:8px;box-shadow:0 3px 6px #00314714;background-color:var(--dark-blue);height:56px;margin-bottom:24px;text-transform:uppercase}.go-home-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(180deg)}.main-content[_ngcontent-%COMP%]{margin-top:24px}.main-content[_ngcontent-%COMP%]   .cart-section[_ngcontent-%COMP%]   .cart-section-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;line-height:1.46;color:var(--text);margin-bottom:24px}.main-content[_ngcontent-%COMP%]   .cart-section[_ngcontent-%COMP%]   .cart-section-cnt[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 3px 6px #00314714;background-color:var(--white)}.main-content[_ngcontent-%COMP%]   .cart-section[_ngcontent-%COMP%]   .cart-section-cnt[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}.main-content[_ngcontent-%COMP%]   .favorites-section[_ngcontent-%COMP%]{margin-top:32px}.main-content[_ngcontent-%COMP%]   .favorites-section[_ngcontent-%COMP%]   .favorite-section-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;line-height:1.46;color:var(--text);margin-bottom:24px}.main-content[_ngcontent-%COMP%]   .favorites-section[_ngcontent-%COMP%]   .favorite-section-cnt[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 3px 6px #00314714;background-color:var(--white)}.main-content[_ngcontent-%COMP%]   .cart-container[_ngcontent-%COMP%]{display:flex;height:625px!important;flex-direction:column;justify-content:space-between}.main-content[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{padding:0 16px 21px;font-size:16px;color:var(--eki-dark-cyprus)}.main-content[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{display:flex;padding:12px 16px;font-size:16px;border:2px solid #FFCC43;border-radius:8px;flex-direction:row;justify-content:flex-start;align-content:space-between;flex-wrap:wrap}.main-content[_ngcontent-%COMP%]   .pricing[_ngcontent-%COMP%]{display:flex;flex-direction:column}.main-content[_ngcontent-%COMP%]   .pricing[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text);font-size:16px;font-weight:700}.main-content[_ngcontent-%COMP%]   .pricing[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:23px;font-weight:700;margin-top:-12px}.main-content[_ngcontent-%COMP%]   .simulation[_ngcontent-%COMP%]{margin-top:11px;padding:4px 0 0 21px;height:48px;background:var(--ek-shade-sh-light-10);border-radius:8px}.main-content[_ngcontent-%COMP%]   .simulation[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly}.main-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-top:7px}.main-content[_ngcontent-%COMP%]   .limit-price[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-left:3px}.main-content[_ngcontent-%COMP%]   .limit-price[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{color:var(--ek-shade-sh-light-07)}.main-content[_ngcontent-%COMP%]   .limit-price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--dark-liver);font-size:16px}.main-content[_ngcontent-%COMP%]   .cart-resume[_ngcontent-%COMP%]   .cart-resume-section-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--text);margin:128px 0 12px}.main-content[_ngcontent-%COMP%]   .cart-resume[_ngcontent-%COMP%]   .cart-resume-section-cnt[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 3px 6px #00314714;background-color:var(--white)}.main-content[_ngcontent-%COMP%]   .cart-resume[_ngcontent-%COMP%]   .cart-resume-section-cnt[_ngcontent-%COMP%]   .cart-resume-section-cnt-item[_ngcontent-%COMP%]{padding:0 16px;font-size:16px;line-height:2.19;color:var(--text-holder)}.main-content[_ngcontent-%COMP%]   .cart-resume[_ngcontent-%COMP%]   .cart-resume-section-cnt[_ngcontent-%COMP%]   .cart-resume-section-cnt-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:20px;line-height:1.75;color:var(--dark-liver)}.main-content[_ngcontent-%COMP%]   .cart-resume[_ngcontent-%COMP%]   .cart-resume-section-cnt[_ngcontent-%COMP%]   .cart-resume-section-cnt-item[_ngcontent-%COMP%]:nth-child(2n+2){background-color:var(--text-bg)}.main-content[_ngcontent-%COMP%]   .cart-resume[_ngcontent-%COMP%]   .btn-checkout[_ngcontent-%COMP%]{height:56px;width:100%;border-radius:4px;box-shadow:0 2px 6px #00314799;background-color:var(--ek-brand-blue_base);font-size:16px;font-weight:900;color:var(--white)!important;text-transform:uppercase;margin-top:16px}.main-content[_ngcontent-%COMP%]   .cart-resume[_ngcontent-%COMP%]   .btn-checkout[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff;width:20px}.main-content[_ngcontent-%COMP%]   .cart-resume[_ngcontent-%COMP%]   .client-service-msg[_ngcontent-%COMP%]{margin-top:16px;-webkit-text-stroke:1px rgba(0,0,0,0);font-size:15px;font-weight:400;color:var(--ek-brand-blue_base)}.main-content[_ngcontent-%COMP%]   .cart-resume[_ngcontent-%COMP%]   .old-price[_ngcontent-%COMP%]{font-size:16px!important;color:var(--ghost)!important;text-decoration:line-through!important;margin-left:10px}.main-content[_ngcontent-%COMP%]   .cart-resume[_ngcontent-%COMP%]   .service-card-cnt[_ngcontent-%COMP%]{margin-top:10px}.empty-cart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:190px}.empty-cart[_ngcontent-%COMP%]   .empty-cart-msg[_ngcontent-%COMP%]{font-size:24px;font-weight:500;color:var(--ghost)}.loading-active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .loading-active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.5}.spinner-layout[_ngcontent-%COMP%]{top:16px;LEFT:70px;position:absolute}  .custom-dialog mat-dialog-container{width:25em!important;border-radius:20px!important}.btn-checkout[_ngcontent-%COMP%]:disabled{color:var(--pantone)!important;box-shadow:none!important;background-color:var(--text-bg)!important}ng5-slider[_ngcontent-%COMP%] {width:187px;height:3px;border-radius:20px}ng5-slider[_ngcontent-%COMP%]  .ng5-slider-bubble{visibility:hidden!important}ng5-slider[_ngcontent-%COMP%]  .custom-slider .ng5-slider-selection{width:187px;height:6px;border-radius:20px;margin-right:3px;background-color:var(--ek-brand-blue_base)!important}ng5-slider[_ngcontent-%COMP%]  .custom-slider .ng5-slider-fill{background-color:gray}ng5-slider[_ngcontent-%COMP%]  .ng5-slider-pointer{width:29px;height:30px;border:solid 2px var(--dark-blue);background-image:var(--ek-brand-blue_base);outline:none}ng5-slider[_ngcontent-%COMP%]  .ng5-slider-limit{opacity:0!important}ng5-slider[_ngcontent-%COMP%]  .ng5-slider-pointer:after{display:none}.selectedMonth[_ngcontent-%COMP%]{display:flex;align-items:center;Width:90px;Height:35px;background-color:#f0f3f4;margin-top:34px;margin-left:15px}.selectedText[_ngcontent-%COMP%]{width:100%;font-size:23px;font-weight:700;text-align:right;color:var(--text-holder)}.monthsNumber[_ngcontent-%COMP%]{font-family:Cera Pro;font-size:16px;font-weight:500;line-height:20px;letter-spacing:0em;text-align:left;color:#545c78;margin-bottom:10px}re-captcha[_ngcontent-%COMP%]{margin:1rem 0;width:100%;display:flex;justify-content:center}.use-conditions-ctn[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{color:var(--neutrals-shade-01);font-size:12px;font-style:normal;font-weight:500;line-height:normal}.use-conditions-ctn[_ngcontent-%COMP%]   .mat-checkbox-layout[_ngcontent-%COMP%]{white-space:break-spaces!important}.use-conditions-ctn[_ngcontent-%COMP%]   .gen-conditions[_ngcontent-%COMP%]{color:var(--Brand-02);font-size:12px;font-style:normal;font-weight:500;line-height:normal;text-decoration-line:underline}.use-conditions-ctn[_ngcontent-%COMP%]   .gen-conditions[_ngcontent-%COMP%]:hover{color:var(--jolly-chris);cursor:pointer}[_nghost-%COMP%]     .mat-checkbox-inner-container{transform:translateY(2px);width:24px;height:24px}[_nghost-%COMP%]     .mat-checkbox-label{white-space:normal;line-height:normal}@media (max-width: 1519px){.cart-page-header[_ngcontent-%COMP%]{margin-top:-116px}.cart-section-title[_ngcontent-%COMP%], .favorite-section-title[_ngcontent-%COMP%], .confirmation-section-title[_ngcontent-%COMP%], .address-section-title[_ngcontent-%COMP%]{font-size:18px!important}.cart-resume-section-title[_ngcontent-%COMP%]{font-size:18px!important;margin:16px 0 14px!important}.empty-cart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:170px}.empty-cart[_ngcontent-%COMP%]   .empty-cart-msg[_ngcontent-%COMP%]{font-size:18px}.go-home-btn[_ngcontent-%COMP%]{font-size:14px}.add-promo-code-btn[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{font-size:14px;margin-right:0!important}.add-promo-code-btn[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin-right:0!important}.add-promo-code-btn[_ngcontent-%COMP%]   .promo-code-cnt[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-size:15px}.add-promo-code-btn[_ngcontent-%COMP%]   .promo-code-cnt[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .add-promo-code-btn[_ngcontent-%COMP%]   .apply-code-btn[_ngcontent-%COMP%]{font-size:15px}.add-promo-code-btn[_ngcontent-%COMP%]   .promo-code-msg[_ngcontent-%COMP%]{font-size:14px}p[_ngcontent-%COMP%]{color:var(--text-holder);line-height:1.5;text-align:justify}.cart-resume[_ngcontent-%COMP%]   .cart-resume-section-cnt-item[_ngcontent-%COMP%]{font-size:14px}.cart-resume[_ngcontent-%COMP%]   .cart-resume-section-cnt-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:16px!important}.cart-resume[_ngcontent-%COMP%]   .cart-resume-section-cnt-item[_ngcontent-%COMP%]   .old-price[_ngcontent-%COMP%]{font-size:14px!important}.btn-checkout[_ngcontent-%COMP%]{color:var(--white)!important;font-size:15px!important}.address-section[_ngcontent-%COMP%]   .delivery-address-title[_ngcontent-%COMP%]{font-size:16px!important}.address-section[_ngcontent-%COMP%]   .delivery-address-cnt[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px!important}.address-section[_ngcontent-%COMP%]   .delivery-address-select[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{font-size:14px!important}.address-section[_ngcontent-%COMP%]   .delivery-address-select[_ngcontent-%COMP%]   .add-new-address-btn[_ngcontent-%COMP%]{font-size:16px!important}}@media (min-width: 768px) and (max-width: 959px){.cart-page-header[_ngcontent-%COMP%]{margin-top:-163px;height:163px}.main-content[_ngcontent-%COMP%]{display:flex!important;flex-direction:row!important;flex-wrap:wrap}.service-card-cnt[_ngcontent-%COMP%]{margin-top:45px!important}.cart-product[_ngcontent-%COMP%], .products-container[_ngcontent-%COMP%]{flex-basis:64%!important;max-width:64%}.cart-resume[_ngcontent-%COMP%]{flex-basis:35%!important;max-width:35%}.empty-cart[_ngcontent-%COMP%]   .empty-cart-msg[_ngcontent-%COMP%]{font-size:15px;margin-left:0}}@media (min-width: 600px) and (max-width: 767px){.cart-page-header[_ngcontent-%COMP%]{margin-top:-163px;height:163px}.cart-resume[_ngcontent-%COMP%]   .cart-resume-section-title[_ngcontent-%COMP%]{margin-top:16px!important}}@media (max-width: 599px){.cart-page-header[_ngcontent-%COMP%]{margin-top:-153px;height:153px}.empty-cart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px}.empty-cart[_ngcontent-%COMP%]   .empty-cart-msg[_ngcontent-%COMP%]{font-size:18px}.empty-cart[_ngcontent-%COMP%]   .empty-cart-msg[_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{display:none}.cart-section-title[_ngcontent-%COMP%], .favorite-section-title[_ngcontent-%COMP%], .address-section-title[_ngcontent-%COMP%]{font-size:20px!important}.cart-resume[_ngcontent-%COMP%]   .btn-checkout[_ngcontent-%COMP%]{order:-1;height:48px!important;margin-bottom:24px}.cart-resume[_ngcontent-%COMP%]   app-promo-code[_ngcontent-%COMP%]{order:2;z-index:-1}.cart-resume-section-title[_ngcontent-%COMP%]{margin-top:16px!important}}"]}),i})();const Se=[{path:"",component:nt},{path:"favorites",component:nt}];var Ie=r(91700),Ee=r(59764);let Ue=(()=>{class i{transform(e){return"NEUF_SOUS_EMBALLAGE"===e?"Neuf sous emballage":"OCCASION_10"===e?"Occasion 10/10":"OCCASION_9"===e?"Occasion 9/10":e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"isUsedConverter",type:i,pure:!0}),i})();const De=function(i){return{color:i}},Ne=function(i){return{"background-color":i}};let Le=(()=>{class i{constructor(e,n,o,s,p,u,c){this.accountService=e,this.cartOfflineService=n,this.cartService=o,this.snackBar=s,this.router=p,this.orderService=u,this.stateColorService=c,this.selectedPromoConfigurations=[],this.quantity=1,this.maxQuantity=1}ngOnInit(){this.quantity=this.cartProduct.quantity,this.productDiscount=this.cartProduct.configuration?.discount,this.accountService.accountSubject.subscribe(e=>this.client=e),this.cartProduct.configuration?.images.length||(this.cartProduct.configuration.images=[{id:1,url:"assets/images/logo_placeholder.png"}]),this.orderService.getQuanEkByConfigId(this.cartProduct.configuration?.id).subscribe({next:e=>{this.maxQuantity=e},error:e=>{e.includes("stock not found")&&(this.maxQuantity=0)}})}removeFromCart(e){this.client?this.cartService.remove(e).subscribe():this.cartOfflineService.deleteCarts(this.cartProduct)}updateQuantity(e){const n=e.valueOf();this.quantity!=n&&(e.isTrusted||(this.quantity=n,this.cartProduct.quantity=n),this.client?this.cartService.update(this.cartProduct).subscribe(o=>{},()=>{}):this.cartOfflineService.updatCarts(this.cartProduct))}navigateToProduct(){this.router.navigate(["/products",this.cartProduct.configuration.productName,this.cartProduct.configuration.productId,this.cartProduct.configuration.id])}getStateColor(e){return this.stateColorService.getConfigurationStateColor(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(I.B),t.Y36(j.J),t.Y36(L.N),t.Y36(F.ux),t.Y36(C.F0),t.Y36(E.p),t.Y36(Ie.o))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-cart-product-item"]],inputs:{cartProduct:"cartProduct",selectedPromoConfigurations:"selectedPromoConfigurations"},decls:37,vars:28,consts:[["fxLayout","row nowrap","fxLayoutAlign","space-around center","fxLayoutGap","8px",1,"cart-product-item",2,"position","relative"],["fxFlex","25",1,"product-img-block",3,"click"],["alt","",3,"src"],["fxLayout","row wrap","fxLayoutAlign","space-between","fxFlex","75",1,"product-info-block"],["fxFlex","48","fxFlex.sm","92","fxFlex.xs","92",1,"product-info-block-name",2,"cursor","pointer",3,"click"],[1,"product-meta-info"],["fxHide","true","fxHide.xs","false","fxHide.sm","false",1,"price-mob","product-info-price-total"],[1,"price"],["fxFlex","22","fxHide.sm","true","fxHide.xs","true",1,"product-info-price"],["fxFlex","22","fxHide.xs","true","fxHide.sm","true",1,"product-info-price-total"],["fxFlex","100","fxLayout","row wrap","fxLayoutAlign","flex-end center",1,"product-cart-actions"],[1,"en-stock",3,"ngStyle"],[1,"",3,"ngStyle"],["mat-icon-button","",1,"btn-remove",3,"click"],["src","assets/icons/svgs/trash-mobile.svg"],[1,"qtt-input"],["step","1",3,"counter","maxQuantity","configId","change"],[1,"label-promo"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return n.navigateToProduct()}),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4),t.NdJ("click",function(){return n.navigateToProduct()}),t.TgZ(5,"div"),t._uU(6),t.qZA(),t.TgZ(7,"div",5),t._uU(8),t.ALo(9,"isUsedConverter"),t.qZA(),t._UZ(10,"br"),t.qZA(),t.TgZ(11,"div",6)(12,"div")(13,"span",7),t._uU(14),t.ALo(15,"number"),t.qZA()()(),t._UZ(16,"br"),t.TgZ(17,"div",8)(18,"span",7),t._uU(19),t.ALo(20,"number"),t.qZA()(),t.TgZ(21,"div",9)(22,"span",7),t._uU(23),t.ALo(24,"number"),t.qZA()(),t.TgZ(25,"div",10)(26,"div",11),t._UZ(27,"div",12),t._uU(28),t.qZA(),t.TgZ(29,"button",13),t.NdJ("click",function(){return n.removeFromCart(n.cartProduct.id)}),t._UZ(30,"img",14),t.qZA(),t.TgZ(31,"div",15)(32,"app-input-quantity",16),t.NdJ("change",function(s){return n.updateQuantity(s)}),t.qZA()()()(),t.ynx(33),t.TgZ(34,"div",17)(35,"span"),t._uU(36,"PAR FACILITE"),t.qZA()(),t.BQk(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("src",n.cartProduct.configuration.images[0].url,t.LSH),t.xp6(4),t.Oqu(null==n.cartProduct.configuration?null:n.cartProduct.configuration.productName),t.xp6(2),t.hij(" Etat: ",t.lcZ(9,16,n.cartProduct.configuration.isUsed)," "),t.xp6(6),t.hij("",t.lcZ(15,18,(null==n.cartProduct.configuration?null:n.cartProduct.configuration.price)*n.quantity)," DZD"),t.xp6(5),t.hij(" ",t.lcZ(20,20,n.cartProduct.configuration.price)," DZD"),t.xp6(4),t.hij("",t.lcZ(24,22,n.cartProduct.configuration.price*n.quantity)," DZD"),t.xp6(3),t.Q6J("ngStyle",t.VKq(24,De,n.getStateColor(null==n.cartProduct.configuration?null:n.cartProduct.configuration.state))),t.xp6(1),t.Q6J("ngStyle",t.VKq(26,Ne,n.getStateColor(null==n.cartProduct.configuration?null:n.cartProduct.configuration.state))),t.xp6(1),t.xDo(" ","RUPTURE_DE_STOCK"===(null==n.cartProduct.configuration?null:n.cartProduct.configuration.state)?"Bient\xf4t disponible":""," ","EN_STOCK"===(null==n.cartProduct.configuration?null:n.cartProduct.configuration.state)?"En Stock":""," ","SUR_COMMANDE"===(null==n.cartProduct.configuration?null:n.cartProduct.configuration.state)?"Sur commande":""," ","BIENTOT_DISPONIBLE"===(null==n.cartProduct.configuration?null:n.cartProduct.configuration.state)?"Bient\xf4t disponible":""," ","OBSOLETE"===(null==n.cartProduct.configuration?null:n.cartProduct.configuration.state)?"Non Disponible":""," "),t.xp6(4),t.Q6J("counter",n.quantity)("maxQuantity",n.maxQuantity)("configId",null==n.cartProduct.configuration?null:n.cartProduct.configuration.id))},dependencies:[d.PC,g.xw,g.SQ,g.Wh,g.yH,P.b8,P.Zl,h.lW,Ee.i,d.JJ,Ue],styles:[".cart-product-item[_ngcontent-%COMP%]{padding-right:16px;min-height:190px}.product-img-block[_ngcontent-%COMP%]{text-align:center;overflow:hidden}.product-img-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:140px;object-fit:contain}.product-img-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer}.product-info-block[_ngcontent-%COMP%]{margin-top:8px;align-self:center}.product-info-block-name[_ngcontent-%COMP%]{font-size:16px;color:var(--cyprus-whale)}.product-info-block-name[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{line-height:1.45;max-height:2.9em;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.product-meta-info[_ngcontent-%COMP%]{font-size:12px;line-height:1.42;letter-spacing:normal;text-align:left;color:var(--ghost)}.product-info-price[_ngcontent-%COMP%], .product-info-price-total[_ngcontent-%COMP%]{display:flex;flex-direction:column}.product-info-price[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%], .product-info-price-total[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:20px;color:var(--text)}.product-info-price[_ngcontent-%COMP%]   .old-price[_ngcontent-%COMP%], .product-info-price-total[_ngcontent-%COMP%]   .old-price[_ngcontent-%COMP%]{font-size:16px;color:var(--ghost);text-decoration:line-through}.product-info-price-total[_ngcontent-%COMP%]{text-align:end}.product-info-price-total[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:20px;color:var(--eki-dark-cyprus)}.product-cart-actions[_ngcontent-%COMP%]{margin-bottom:8px}.product-cart-actions[_ngcontent-%COMP%]   .en-stock[_ngcontent-%COMP%]{font-size:16px;font-weight:700;align-self:center;margin-right:auto;display:flex}.product-cart-actions[_ngcontent-%COMP%]   .en-stock[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:50%;width:8px;height:8px;margin-top:auto;margin-bottom:auto;margin-right:5px}.label-promo[_ngcontent-%COMP%]{width:116px;height:32px;background-color:var(--eki-green);position:absolute;top:0;left:0;align-items:center;display:flex;justify-content:center;border-radius:8px 0}.label-promo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:700;font-stretch:normal;font-style:normal;line-height:1.44;letter-spacing:normal;text-align:center;color:var(--pale-grey)}.span-end-promo[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--cherry-red)}.qtt-input[_ngcontent-%COMP%]{margin-left:8px;height:42px;max-width:160px}.qtt-input[_ngcontent-%COMP%]   app-input-quantity[_ngcontent-%COMP%]     .input-number__add, .qtt-input[_ngcontent-%COMP%]   app-input-quantity[_ngcontent-%COMP%]     .input-number__sub{width:42px}.invalid-quantity[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:var(--cherry-red);position:absolute;bottom:-13px}@media (max-width: 1519px){.price[_ngcontent-%COMP%]{font-size:18px!important}.old-price[_ngcontent-%COMP%]{font-size:14px!important}.span-end-promo[_ngcontent-%COMP%]{font-size:13px!important}.label-promo[_ngcontent-%COMP%]{height:24px}.label-promo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 959px){.price-mob[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:20px;height:40px;border-radius:4px;flex-grow:1;margin:5px 0 0 6px;max-width:110px}}@media (max-width: 959px) and (min-width: 768px){.product-img-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:95px;margin-bottom:35px}.product-cart-actions[_ngcontent-%COMP%]{margin-left:-100px;max-width:none!important;width:auto;justify-content:flex-end!important}.product-cart-actions[_ngcontent-%COMP%]   .en-stock[_ngcontent-%COMP%]{flex-basis:100%;margin:-10px 0 20px 100px}.cart-product-item[_ngcontent-%COMP%]{margin-top:10px}.price[_ngcontent-%COMP%]{font-family:Cera Pro;font-style:normal;font-weight:700;font-size:16px;line-height:20px}.price[_ngcontent-%COMP%]   .price-mob[_ngcontent-%COMP%]{max-width:110px!important}}@media (max-width: 767px){.cart-product-item[_ngcontent-%COMP%]{min-height:unset}.product-img-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:125px;margin-bottom:30px;max-height:100px}.product-cart-actions[_ngcontent-%COMP%]{margin-left:-100px;max-width:none!important;width:auto;justify-content:flex-end!important}.product-cart-actions[_ngcontent-%COMP%]   .en-stock[_ngcontent-%COMP%]{flex-basis:100%;margin:-10px 0 25px}.qtt-input[_ngcontent-%COMP%]{margin-left:8px}.label-promo[_ngcontent-%COMP%]{width:auto;height:22px}.label-promo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;padding:0 8px}.span-end-promo[_ngcontent-%COMP%]{font-size:14px!important;margin-bottom:10px}.span-end-promo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none!important}.cart-product-item[_ngcontent-%COMP%]{margin-top:10px}.price[_ngcontent-%COMP%]{font-size:16px!important;font-family:Cera Pro;font-style:normal;font-weight:700;line-height:20px;color:var(--ek-brand-cyprus_base)}.price[_ngcontent-%COMP%]   .price-mob[_ngcontent-%COMP%]{max-width:110px!important}}@media (max-width: 400px){.cart-product-item[_ngcontent-%COMP%]{padding-right:0}.product-img-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:70px}.qtt-input[_ngcontent-%COMP%]{max-width:120px}.label-promo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 4px}}"]}),i})();var qe=r(84385),ze=r(31038),He=r(36245),Be=r(18587);let Je=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[f.lN,Z.FA,k.XK],imports:[d.ez,C.Bz.forChild(Se),R.JF,it.o9,h.ot,l.u5,l.UX,ot.QW,f.lN,N.c,at.ie,F.ZX,z.Bb,B.Fk,Z.FA,G.Cq,k.XK,V.a,O.To,He.Z,k.si,qe.LD,K.p9,ze.N,h.ot,Be.D,h.ot,h.ot,h.ot,_.Is,l.UX,l.UX,d.ez,d.ez,d.ez,H.bt,$.AV]}),i})();t.B6R(X,function(){return[d.sg,d.O5,g.Wh,g.yH,Le]},[])}}]);